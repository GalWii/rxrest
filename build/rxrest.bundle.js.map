{"version":3,"file":"rxrest.bundle.js","sources":["../src/RxRestProxyHandler.ts","../src/RxRestConfiguration.ts","../node_modules/component-emitter/index.js","../node_modules/superagent/lib/is-object.js","../node_modules/superagent/lib/request-base.js","../node_modules/superagent/lib/request.js","../node_modules/superagent/lib/client.js","../node_modules/most/src/Stream.js","../node_modules/@most/prelude/src/array.js","../node_modules/@most/prelude/src/function.js","../node_modules/@most/prelude/src/index.js","../node_modules/most/src/disposable/Disposable.js","../node_modules/most/src/disposable/SettableDisposable.js","../node_modules/most/src/Promise.js","../node_modules/most/src/disposable/dispose.js","../node_modules/most/src/fatalError.js","../node_modules/most/src/scheduler/PropagateTask.js","../node_modules/most/src/source/core.js","../node_modules/most/src/source/fromArray.js","../node_modules/most/src/iterable.js","../node_modules/most/src/source/fromIterable.js","../node_modules/symbol-observable/es/ponyfill.js","../node_modules/symbol-observable/es/index.js","../node_modules/most/src/observable/getObservable.js","../node_modules/most/src/observable/fromObservable.js","../node_modules/most/src/source/from.js","../node_modules/most/src/source/periodic.js","../node_modules/most/src/scheduler/ScheduledTask.js","../node_modules/most/src/task.js","../node_modules/most/src/scheduler/Scheduler.js","../node_modules/most/src/scheduler/ClockTimer.js","../node_modules/most/src/scheduler/Timeline.js","../node_modules/most/src/scheduler/defaultScheduler.js","../node_modules/most/src/observable/subscribe.js","../node_modules/most/src/combinator/thru.js","../node_modules/most/src/source/tryEvent.js","../node_modules/most/src/source/EventTargetSource.js","../node_modules/most/src/sink/DeferredSink.js","../node_modules/most/src/source/EventEmitterSource.js","../node_modules/most/src/source/fromEvent.js","../node_modules/most/src/runSource.js","../node_modules/most/src/sink/Pipe.js","../node_modules/most/src/fusion/Filter.js","../node_modules/most/src/fusion/FilterMap.js","../node_modules/most/src/fusion/Map.js","../node_modules/most/src/combinator/transform.js","../node_modules/most/src/combinator/observe.js","../node_modules/most/src/combinator/loop.js","../node_modules/most/src/combinator/accumulate.js","../node_modules/most/src/source/unfold.js","../node_modules/most/src/source/iterate.js","../node_modules/most/src/source/generate.js","../node_modules/most/src/combinator/continueWith.js","../node_modules/most/src/combinator/build.js","../node_modules/most/src/sink/IndexSink.js","../node_modules/most/src/invoke.js","../node_modules/most/src/combinator/combine.js","../node_modules/most/src/combinator/applicative.js","../node_modules/most/src/combinator/transduce.js","../node_modules/most/src/LinkedList.js","../node_modules/most/src/combinator/mergeConcurrently.js","../node_modules/most/src/combinator/flatMap.js","../node_modules/most/src/combinator/concatMap.js","../node_modules/most/src/combinator/merge.js","../node_modules/most/src/combinator/sample.js","../node_modules/most/src/Queue.js","../node_modules/most/src/combinator/zip.js","../node_modules/most/src/combinator/switch.js","../node_modules/most/src/combinator/filter.js","../node_modules/most/src/combinator/slice.js","../node_modules/most/src/combinator/timeslice.js","../node_modules/most/src/combinator/delay.js","../node_modules/most/src/combinator/timestamp.js","../node_modules/most/src/combinator/limit.js","../node_modules/most/src/combinator/promises.js","../node_modules/most/src/sink/SafeSink.js","../node_modules/most/src/combinator/errors.js","../node_modules/@most/multicast/src/MulticastDisposable.js","../node_modules/@most/multicast/src/tryEvent.js","../node_modules/@most/multicast/src/dispose.js","../node_modules/@most/multicast/src/MulticastSource.js","../node_modules/@most/multicast/src/index.js","../node_modules/most/src/index.js","../node_modules/@most/create/dist/create.es.js","../src/fetch.ts","../src/RxRest.ts","../src/index.ts"],"sourcesContent":["import {RxRestCollection, RxRestItem} from './index'\nimport {RxRest} from './RxRest'\n\nexport class RxRestProxyHandler<T> implements ProxyHandler<RxRest<T>> {\n  private $internal: PropertyKey[] = [];\n  private $instance: RxRestItem<T> | RxRestCollection<T>;\n\n  constructor(target: RxRestItem<T> | RxRestCollection<T>) {\n    this.$instance = target\n    do {\n      this.$internal = this.$internal.concat(\n        Object.getOwnPropertyNames(target), Object.getOwnPropertySymbols(target)\n      )\n    } while (target = Object.getPrototypeOf(target))\n  }\n\n  getPrototypeOf(target: any) {\n    return Object.getPrototypeOf(this.$instance)\n  }\n\n  defineProperty(target: any, p: PropertyKey, attributes: PropertyDescriptor): boolean {\n    if (~this.$internal.indexOf(p)) {\n      return true\n    }\n\n    Object.defineProperty(target, p, attributes)\n    return true\n  }\n\n  deleteProperty(target: any, p: PropertyKey): boolean {\n    return delete target[p]\n  }\n\n  set(target: any, p: PropertyKey, value: any, receiver: any): boolean {\n\n    if (~this.$internal.indexOf(p)) {\n      this.$instance[p] = value\n      return true\n    }\n\n    target[p] = value\n    return true\n  }\n\n  get(target: any, p: PropertyKey, receiver: any): any {\n    if (~this.$internal.indexOf(p)) {\n      return this.$instance[p]\n    }\n\n    return target[p]\n  }\n}\n","import {\n  RequestInterceptor,\n  ResponseInterceptor,\n  ErrorInterceptor\n} from './interfaces'\nimport {RxRestItem} from './index'\n\n/**\n * RxRestConfiguration\n */\nexport class RxRestConfiguration {\n  baseURL: string\n  identifier: string = 'id'\n  requestInterceptors: RequestInterceptor[] = []\n  responseInterceptors: ResponseInterceptor[] = []\n  errorInterceptors: ErrorInterceptor[] = []\n  headers: Headers = new Headers()\n  queryParams: URLSearchParams = new URLSearchParams()\n  fetch: any\n  abortCallback: (req: Request) => void = () => null\n\n  /**\n   * requestBodyHandler\n   * JSONify the body if it's an `RxRestItem` or an `Object`\n   *\n   * @param {FormData|URLSearchParams|Body|Blob|undefined} body\n   * @returns {any}\n   */\n  requestBodyHandler(body: FormData|URLSearchParams|Body|Blob|undefined):\n    FormData|URLSearchParams|Body|Blob|undefined|string|Promise<any> {\n    if (!body) {\n      return undefined\n    }\n\n    if (body instanceof FormData || body instanceof URLSearchParams) {\n      return body\n    }\n\n    return body instanceof RxRestItem ? body.json() : JSON.stringify(body)\n  }\n\n  /**\n   * responseBodyHandler\n   * transforms the response to a json object\n   *\n   * @param {Response} body\n   * @reject when response is an error\n   * @returns {Promise<any>}\n   */\n  responseBodyHandler(body: Response): Promise<any> {\n    return body.text()\n    .then(text => {\n      return text ? JSON.parse(text) : null\n    })\n  }\n}\n","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","/**\n * Check if `obj` is an object.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject(obj) {\n  return null !== obj && 'object' === typeof obj;\n}\n\nmodule.exports = isObject;\n","/**\n * Module of mixed-in functions shared between node and client code\n */\nvar isObject = require('./is-object');\n\n/**\n * Clear previous timeout.\n *\n * @return {Request} for chaining\n * @api public\n */\n\nexports.clearTimeout = function _clearTimeout(){\n  this._timeout = 0;\n  clearTimeout(this._timer);\n  return this;\n};\n\n/**\n * Override default response body parser\n *\n * This function will be called to convert incoming data into request.body\n *\n * @param {Function}\n * @api public\n */\n\nexports.parse = function parse(fn){\n  this._parser = fn;\n  return this;\n};\n\n/**\n * Override default request body serializer\n *\n * This function will be called to convert data set via .send or .attach into payload to send\n *\n * @param {Function}\n * @api public\n */\n\nexports.serialize = function serialize(fn){\n  this._serializer = fn;\n  return this;\n};\n\n/**\n * Set timeout to `ms`.\n *\n * @param {Number} ms\n * @return {Request} for chaining\n * @api public\n */\n\nexports.timeout = function timeout(ms){\n  this._timeout = ms;\n  return this;\n};\n\n/**\n * Promise support\n *\n * @param {Function} resolve\n * @param {Function} reject\n * @return {Request}\n */\n\nexports.then = function then(resolve, reject) {\n  if (!this._fullfilledPromise) {\n    var self = this;\n    this._fullfilledPromise = new Promise(function(innerResolve, innerReject){\n      self.end(function(err, res){\n        if (err) innerReject(err); else innerResolve(res);\n      });\n    });\n  }\n  return this._fullfilledPromise.then(resolve, reject);\n}\n\nexports.catch = function(cb) {\n  return this.then(undefined, cb);\n};\n\n/**\n * Allow for extension\n */\n\nexports.use = function use(fn) {\n  fn(this);\n  return this;\n}\n\n\n/**\n * Get request header `field`.\n * Case-insensitive.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nexports.get = function(field){\n  return this._header[field.toLowerCase()];\n};\n\n/**\n * Get case-insensitive header `field` value.\n * This is a deprecated internal API. Use `.get(field)` instead.\n *\n * (getHeader is no longer used internally by the superagent code base)\n *\n * @param {String} field\n * @return {String}\n * @api private\n * @deprecated\n */\n\nexports.getHeader = exports.get;\n\n/**\n * Set header `field` to `val`, or multiple fields with one object.\n * Case-insensitive.\n *\n * Examples:\n *\n *      req.get('/')\n *        .set('Accept', 'application/json')\n *        .set('X-API-Key', 'foobar')\n *        .end(callback);\n *\n *      req.get('/')\n *        .set({ Accept: 'application/json', 'X-API-Key': 'foobar' })\n *        .end(callback);\n *\n * @param {String|Object} field\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nexports.set = function(field, val){\n  if (isObject(field)) {\n    for (var key in field) {\n      this.set(key, field[key]);\n    }\n    return this;\n  }\n  this._header[field.toLowerCase()] = val;\n  this.header[field] = val;\n  return this;\n};\n\n/**\n * Remove header `field`.\n * Case-insensitive.\n *\n * Example:\n *\n *      req.get('/')\n *        .unset('User-Agent')\n *        .end(callback);\n *\n * @param {String} field\n */\nexports.unset = function(field){\n  delete this._header[field.toLowerCase()];\n  delete this.header[field];\n  return this;\n};\n\n/**\n * Write the field `name` and `val`, or multiple fields with one object\n * for \"multipart/form-data\" request bodies.\n *\n * ``` js\n * request.post('/upload')\n *   .field('foo', 'bar')\n *   .end(callback);\n *\n * request.post('/upload')\n *   .field({ foo: 'bar', baz: 'qux' })\n *   .end(callback);\n * ```\n *\n * @param {String|Object} name\n * @param {String|Blob|File|Buffer|fs.ReadStream} val\n * @return {Request} for chaining\n * @api public\n */\nexports.field = function(name, val) {\n\n  // name should be either a string or an object.\n  if (null === name ||  undefined === name) {\n    throw new Error('.field(name, val) name can not be empty');\n  }\n\n  if (isObject(name)) {\n    for (var key in name) {\n      this.field(key, name[key]);\n    }\n    return this;\n  }\n\n  // val should be defined now\n  if (null === val || undefined === val) {\n    throw new Error('.field(name, val) val can not be empty');\n  }\n  this._getFormData().append(name, val);\n  return this;\n};\n\n/**\n * Abort the request, and clear potential timeout.\n *\n * @return {Request}\n * @api public\n */\nexports.abort = function(){\n  if (this._aborted) {\n    return this;\n  }\n  this._aborted = true;\n  this.xhr && this.xhr.abort(); // browser\n  this.req && this.req.abort(); // node\n  this.clearTimeout();\n  this.emit('abort');\n  return this;\n};\n\n/**\n * Enable transmission of cookies with x-domain requests.\n *\n * Note that for this to work the origin must not be\n * using \"Access-Control-Allow-Origin\" with a wildcard,\n * and also must set \"Access-Control-Allow-Credentials\"\n * to \"true\".\n *\n * @api public\n */\n\nexports.withCredentials = function(){\n  // This is browser-only functionality. Node side is no-op.\n  this._withCredentials = true;\n  return this;\n};\n\n/**\n * Set the max redirects to `n`. Does noting in browser XHR implementation.\n *\n * @param {Number} n\n * @return {Request} for chaining\n * @api public\n */\n\nexports.redirects = function(n){\n  this._maxRedirects = n;\n  return this;\n};\n\n/**\n * Convert to a plain javascript object (not JSON string) of scalar properties.\n * Note as this method is designed to return a useful non-this value,\n * it cannot be chained.\n *\n * @return {Object} describing method, url, and data of this request\n * @api public\n */\n\nexports.toJSON = function(){\n  return {\n    method: this.method,\n    url: this.url,\n    data: this._data,\n    headers: this._header\n  };\n};\n\n/**\n * Check if `obj` is a host object,\n * we don't want to serialize these :)\n *\n * TODO: future proof, move to compoent land\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nexports._isHost = function _isHost(obj) {\n  var str = {}.toString.call(obj);\n\n  switch (str) {\n    case '[object File]':\n    case '[object Blob]':\n    case '[object FormData]':\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Send `data` as the request body, defaulting the `.type()` to \"json\" when\n * an object is given.\n *\n * Examples:\n *\n *       // manual json\n *       request.post('/user')\n *         .type('json')\n *         .send('{\"name\":\"tj\"}')\n *         .end(callback)\n *\n *       // auto json\n *       request.post('/user')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // manual x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send('name=tj')\n *         .end(callback)\n *\n *       // auto x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // defaults to x-www-form-urlencoded\n *      request.post('/user')\n *        .send('name=tobi')\n *        .send('species=ferret')\n *        .end(callback)\n *\n * @param {String|Object} data\n * @return {Request} for chaining\n * @api public\n */\n\nexports.send = function(data){\n  var obj = isObject(data);\n  var type = this._header['content-type'];\n\n  // merge\n  if (obj && isObject(this._data)) {\n    for (var key in data) {\n      this._data[key] = data[key];\n    }\n  } else if ('string' == typeof data) {\n    // default to x-www-form-urlencoded\n    if (!type) this.type('form');\n    type = this._header['content-type'];\n    if ('application/x-www-form-urlencoded' == type) {\n      this._data = this._data\n        ? this._data + '&' + data\n        : data;\n    } else {\n      this._data = (this._data || '') + data;\n    }\n  } else {\n    this._data = data;\n  }\n\n  if (!obj || this._isHost(data)) return this;\n\n  // default to json\n  if (!type) this.type('json');\n  return this;\n};\n","// The node and browser modules expose versions of this with the\n// appropriate constructor function bound as first argument\n/**\n * Issue a request:\n *\n * Examples:\n *\n *    request('GET', '/users').end(callback)\n *    request('/users').end(callback)\n *    request('/users', callback)\n *\n * @param {String} method\n * @param {String|Function} url or callback\n * @return {Request}\n * @api public\n */\n\nfunction request(RequestConstructor, method, url) {\n  // callback\n  if ('function' == typeof url) {\n    return new RequestConstructor('GET', method).end(url);\n  }\n\n  // url first\n  if (2 == arguments.length) {\n    return new RequestConstructor('GET', method);\n  }\n\n  return new RequestConstructor(method, url);\n}\n\nmodule.exports = request;\n","/**\n * Root reference for iframes.\n */\n\nvar root;\nif (typeof window !== 'undefined') { // Browser window\n  root = window;\n} else if (typeof self !== 'undefined') { // Web Worker\n  root = self;\n} else { // Other environments\n  console.warn(\"Using browser-only version of superagent in non-browser environment\");\n  root = this;\n}\n\nvar Emitter = require('emitter');\nvar requestBase = require('./request-base');\nvar isObject = require('./is-object');\n\n/**\n * Noop.\n */\n\nfunction noop(){};\n\n/**\n * Expose `request`.\n */\n\nvar request = module.exports = require('./request').bind(null, Request);\n\n/**\n * Determine XHR.\n */\n\nrequest.getXHR = function () {\n  if (root.XMLHttpRequest\n      && (!root.location || 'file:' != root.location.protocol\n          || !root.ActiveXObject)) {\n    return new XMLHttpRequest;\n  } else {\n    try { return new ActiveXObject('Microsoft.XMLHTTP'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.6.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.3.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP'); } catch(e) {}\n  }\n  throw Error(\"Browser-only verison of superagent could not find XHR\");\n};\n\n/**\n * Removes leading and trailing whitespace, added to support IE.\n *\n * @param {String} s\n * @return {String}\n * @api private\n */\n\nvar trim = ''.trim\n  ? function(s) { return s.trim(); }\n  : function(s) { return s.replace(/(^\\s*|\\s*$)/g, ''); };\n\n/**\n * Serialize the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api private\n */\n\nfunction serialize(obj) {\n  if (!isObject(obj)) return obj;\n  var pairs = [];\n  for (var key in obj) {\n    pushEncodedKeyValuePair(pairs, key, obj[key]);\n  }\n  return pairs.join('&');\n}\n\n/**\n * Helps 'serialize' with serializing arrays.\n * Mutates the pairs array.\n *\n * @param {Array} pairs\n * @param {String} key\n * @param {Mixed} val\n */\n\nfunction pushEncodedKeyValuePair(pairs, key, val) {\n  if (val != null) {\n    if (Array.isArray(val)) {\n      val.forEach(function(v) {\n        pushEncodedKeyValuePair(pairs, key, v);\n      });\n    } else if (isObject(val)) {\n      for(var subkey in val) {\n        pushEncodedKeyValuePair(pairs, key + '[' + subkey + ']', val[subkey]);\n      }\n    } else {\n      pairs.push(encodeURIComponent(key)\n        + '=' + encodeURIComponent(val));\n    }\n  } else if (val === null) {\n    pairs.push(encodeURIComponent(key));\n  }\n}\n\n/**\n * Expose serialization method.\n */\n\n request.serializeObject = serialize;\n\n /**\n  * Parse the given x-www-form-urlencoded `str`.\n  *\n  * @param {String} str\n  * @return {Object}\n  * @api private\n  */\n\nfunction parseString(str) {\n  var obj = {};\n  var pairs = str.split('&');\n  var pair;\n  var pos;\n\n  for (var i = 0, len = pairs.length; i < len; ++i) {\n    pair = pairs[i];\n    pos = pair.indexOf('=');\n    if (pos == -1) {\n      obj[decodeURIComponent(pair)] = '';\n    } else {\n      obj[decodeURIComponent(pair.slice(0, pos))] =\n        decodeURIComponent(pair.slice(pos + 1));\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Expose parser.\n */\n\nrequest.parseString = parseString;\n\n/**\n * Default MIME type map.\n *\n *     superagent.types.xml = 'application/xml';\n *\n */\n\nrequest.types = {\n  html: 'text/html',\n  json: 'application/json',\n  xml: 'application/xml',\n  urlencoded: 'application/x-www-form-urlencoded',\n  'form': 'application/x-www-form-urlencoded',\n  'form-data': 'application/x-www-form-urlencoded'\n};\n\n/**\n * Default serialization map.\n *\n *     superagent.serialize['application/xml'] = function(obj){\n *       return 'generated xml here';\n *     };\n *\n */\n\n request.serialize = {\n   'application/x-www-form-urlencoded': serialize,\n   'application/json': JSON.stringify\n };\n\n /**\n  * Default parsers.\n  *\n  *     superagent.parse['application/xml'] = function(str){\n  *       return { object parsed from str };\n  *     };\n  *\n  */\n\nrequest.parse = {\n  'application/x-www-form-urlencoded': parseString,\n  'application/json': JSON.parse\n};\n\n/**\n * Parse the given header `str` into\n * an object containing the mapped fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseHeader(str) {\n  var lines = str.split(/\\r?\\n/);\n  var fields = {};\n  var index;\n  var line;\n  var field;\n  var val;\n\n  lines.pop(); // trailing CRLF\n\n  for (var i = 0, len = lines.length; i < len; ++i) {\n    line = lines[i];\n    index = line.indexOf(':');\n    field = line.slice(0, index).toLowerCase();\n    val = trim(line.slice(index + 1));\n    fields[field] = val;\n  }\n\n  return fields;\n}\n\n/**\n * Check if `mime` is json or has +json structured syntax suffix.\n *\n * @param {String} mime\n * @return {Boolean}\n * @api private\n */\n\nfunction isJSON(mime) {\n  return /[\\/+]json\\b/.test(mime);\n}\n\n/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nfunction type(str){\n  return str.split(/ *; */).shift();\n};\n\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction params(str){\n  return str.split(/ *; */).reduce(function(obj, str){\n    var parts = str.split(/ *= */),\n        key = parts.shift(),\n        val = parts.shift();\n\n    if (key && val) obj[key] = val;\n    return obj;\n  }, {});\n};\n\n/**\n * Initialize a new `Response` with the given `xhr`.\n *\n *  - set flags (.ok, .error, etc)\n *  - parse header\n *\n * Examples:\n *\n *  Aliasing `superagent` as `request` is nice:\n *\n *      request = superagent;\n *\n *  We can use the promise-like API, or pass callbacks:\n *\n *      request.get('/').end(function(res){});\n *      request.get('/', function(res){});\n *\n *  Sending data can be chained:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' })\n *        .end(function(res){});\n *\n *  Or passed to `.send()`:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' }, function(res){});\n *\n *  Or passed to `.post()`:\n *\n *      request\n *        .post('/user', { name: 'tj' })\n *        .end(function(res){});\n *\n * Or further reduced to a single call for simple cases:\n *\n *      request\n *        .post('/user', { name: 'tj' }, function(res){});\n *\n * @param {XMLHTTPRequest} xhr\n * @param {Object} options\n * @api private\n */\n\nfunction Response(req, options) {\n  options = options || {};\n  this.req = req;\n  this.xhr = this.req.xhr;\n  // responseText is accessible only if responseType is '' or 'text' and on older browsers\n  this.text = ((this.req.method !='HEAD' && (this.xhr.responseType === '' || this.xhr.responseType === 'text')) || typeof this.xhr.responseType === 'undefined')\n     ? this.xhr.responseText\n     : null;\n  this.statusText = this.req.xhr.statusText;\n  this._setStatusProperties(this.xhr.status);\n  this.header = this.headers = parseHeader(this.xhr.getAllResponseHeaders());\n  // getAllResponseHeaders sometimes falsely returns \"\" for CORS requests, but\n  // getResponseHeader still works. so we get content-type even if getting\n  // other headers fails.\n  this.header['content-type'] = this.xhr.getResponseHeader('content-type');\n  this._setHeaderProperties(this.header);\n  this.body = this.req.method != 'HEAD'\n    ? this._parseBody(this.text ? this.text : this.xhr.response)\n    : null;\n}\n\n/**\n * Get case-insensitive `field` value.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nResponse.prototype.get = function(field){\n  return this.header[field.toLowerCase()];\n};\n\n/**\n * Set header related properties:\n *\n *   - `.type` the content type without params\n *\n * A response of \"Content-Type: text/plain; charset=utf-8\"\n * will provide you with a `.type` of \"text/plain\".\n *\n * @param {Object} header\n * @api private\n */\n\nResponse.prototype._setHeaderProperties = function(header){\n  // content-type\n  var ct = this.header['content-type'] || '';\n  this.type = type(ct);\n\n  // params\n  var obj = params(ct);\n  for (var key in obj) this[key] = obj[key];\n};\n\n/**\n * Parse the given body `str`.\n *\n * Used for auto-parsing of bodies. Parsers\n * are defined on the `superagent.parse` object.\n *\n * @param {String} str\n * @return {Mixed}\n * @api private\n */\n\nResponse.prototype._parseBody = function(str){\n  var parse = request.parse[this.type];\n  if (!parse && isJSON(this.type)) {\n    parse = request.parse['application/json'];\n  }\n  return parse && str && (str.length || str instanceof Object)\n    ? parse(str)\n    : null;\n};\n\n/**\n * Set flags such as `.ok` based on `status`.\n *\n * For example a 2xx response will give you a `.ok` of __true__\n * whereas 5xx will be __false__ and `.error` will be __true__. The\n * `.clientError` and `.serverError` are also available to be more\n * specific, and `.statusType` is the class of error ranging from 1..5\n * sometimes useful for mapping respond colors etc.\n *\n * \"sugar\" properties are also defined for common cases. Currently providing:\n *\n *   - .noContent\n *   - .badRequest\n *   - .unauthorized\n *   - .notAcceptable\n *   - .notFound\n *\n * @param {Number} status\n * @api private\n */\n\nResponse.prototype._setStatusProperties = function(status){\n  // handle IE9 bug: http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n  if (status === 1223) {\n    status = 204;\n  }\n\n  var type = status / 100 | 0;\n\n  // status / class\n  this.status = this.statusCode = status;\n  this.statusType = type;\n\n  // basics\n  this.info = 1 == type;\n  this.ok = 2 == type;\n  this.clientError = 4 == type;\n  this.serverError = 5 == type;\n  this.error = (4 == type || 5 == type)\n    ? this.toError()\n    : false;\n\n  // sugar\n  this.accepted = 202 == status;\n  this.noContent = 204 == status;\n  this.badRequest = 400 == status;\n  this.unauthorized = 401 == status;\n  this.notAcceptable = 406 == status;\n  this.notFound = 404 == status;\n  this.forbidden = 403 == status;\n};\n\n/**\n * Return an `Error` representative of this response.\n *\n * @return {Error}\n * @api public\n */\n\nResponse.prototype.toError = function(){\n  var req = this.req;\n  var method = req.method;\n  var url = req.url;\n\n  var msg = 'cannot ' + method + ' ' + url + ' (' + this.status + ')';\n  var err = new Error(msg);\n  err.status = this.status;\n  err.method = method;\n  err.url = url;\n\n  return err;\n};\n\n/**\n * Expose `Response`.\n */\n\nrequest.Response = Response;\n\n/**\n * Initialize a new `Request` with the given `method` and `url`.\n *\n * @param {String} method\n * @param {String} url\n * @api public\n */\n\nfunction Request(method, url) {\n  var self = this;\n  this._query = this._query || [];\n  this.method = method;\n  this.url = url;\n  this.header = {}; // preserves header name case\n  this._header = {}; // coerces header names to lowercase\n  this.on('end', function(){\n    var err = null;\n    var res = null;\n\n    try {\n      res = new Response(self);\n    } catch(e) {\n      err = new Error('Parser is unable to parse the response');\n      err.parse = true;\n      err.original = e;\n      // issue #675: return the raw response if the response parsing fails\n      err.rawResponse = self.xhr && self.xhr.responseText ? self.xhr.responseText : null;\n      // issue #876: return the http status code if the response parsing fails\n      err.statusCode = self.xhr && self.xhr.status ? self.xhr.status : null;\n      return self.callback(err);\n    }\n\n    self.emit('response', res);\n\n    var new_err;\n    try {\n      if (res.status < 200 || res.status >= 300) {\n        new_err = new Error(res.statusText || 'Unsuccessful HTTP response');\n        new_err.original = err;\n        new_err.response = res;\n        new_err.status = res.status;\n      }\n    } catch(e) {\n      new_err = e; // #985 touching res may cause INVALID_STATE_ERR on old Android\n    }\n\n    // #1000 don't catch errors from the callback to avoid double calling it\n    if (new_err) {\n      self.callback(new_err, res);\n    } else {\n      self.callback(null, res);\n    }\n  });\n}\n\n/**\n * Mixin `Emitter` and `requestBase`.\n */\n\nEmitter(Request.prototype);\nfor (var key in requestBase) {\n  Request.prototype[key] = requestBase[key];\n}\n\n/**\n * Set Content-Type to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.xml = 'application/xml';\n *\n *      request.post('/')\n *        .type('xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n *      request.post('/')\n *        .type('application/xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n * @param {String} type\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.type = function(type){\n  this.set('Content-Type', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set responseType to `val`. Presently valid responseTypes are 'blob' and\n * 'arraybuffer'.\n *\n * Examples:\n *\n *      req.get('/')\n *        .responseType('blob')\n *        .end(callback);\n *\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.responseType = function(val){\n  this._responseType = val;\n  return this;\n};\n\n/**\n * Set Accept to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.json = 'application/json';\n *\n *      request.get('/agent')\n *        .accept('json')\n *        .end(callback);\n *\n *      request.get('/agent')\n *        .accept('application/json')\n *        .end(callback);\n *\n * @param {String} accept\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.accept = function(type){\n  this.set('Accept', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Authorization field value with `user` and `pass`.\n *\n * @param {String} user\n * @param {String} pass\n * @param {Object} options with 'type' property 'auto' or 'basic' (default 'basic')\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.auth = function(user, pass, options){\n  if (!options) {\n    options = {\n      type: 'basic'\n    }\n  }\n\n  switch (options.type) {\n    case 'basic':\n      var str = btoa(user + ':' + pass);\n      this.set('Authorization', 'Basic ' + str);\n    break;\n\n    case 'auto':\n      this.username = user;\n      this.password = pass;\n    break;\n  }\n  return this;\n};\n\n/**\n* Add query-string `val`.\n*\n* Examples:\n*\n*   request.get('/shoes')\n*     .query('size=10')\n*     .query({ color: 'blue' })\n*\n* @param {Object|String} val\n* @return {Request} for chaining\n* @api public\n*/\n\nRequest.prototype.query = function(val){\n  if ('string' != typeof val) val = serialize(val);\n  if (val) this._query.push(val);\n  return this;\n};\n\n/**\n * Queue the given `file` as an attachment to the specified `field`,\n * with optional `filename`.\n *\n * ``` js\n * request.post('/upload')\n *   .attach('content', new Blob(['<a id=\"a\"><b id=\"b\">hey!</b></a>'], { type: \"text/html\"}))\n *   .end(callback);\n * ```\n *\n * @param {String} field\n * @param {Blob|File} file\n * @param {String} filename\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.attach = function(field, file, filename){\n  this._getFormData().append(field, file, filename || file.name);\n  return this;\n};\n\nRequest.prototype._getFormData = function(){\n  if (!this._formData) {\n    this._formData = new root.FormData();\n  }\n  return this._formData;\n};\n\n/**\n * Invoke the callback with `err` and `res`\n * and handle arity check.\n *\n * @param {Error} err\n * @param {Response} res\n * @api private\n */\n\nRequest.prototype.callback = function(err, res){\n  var fn = this._callback;\n  this.clearTimeout();\n  fn(err, res);\n};\n\n/**\n * Invoke callback with x-domain error.\n *\n * @api private\n */\n\nRequest.prototype.crossDomainError = function(){\n  var err = new Error('Request has been terminated\\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.');\n  err.crossDomain = true;\n\n  err.status = this.status;\n  err.method = this.method;\n  err.url = this.url;\n\n  this.callback(err);\n};\n\n/**\n * Invoke callback with timeout error.\n *\n * @api private\n */\n\nRequest.prototype._timeoutError = function(){\n  var timeout = this._timeout;\n  var err = new Error('timeout of ' + timeout + 'ms exceeded');\n  err.timeout = timeout;\n  this.callback(err);\n};\n\n/**\n * Compose querystring to append to req.url\n *\n * @api private\n */\n\nRequest.prototype._appendQueryString = function(){\n  var query = this._query.join('&');\n  if (query) {\n    this.url += ~this.url.indexOf('?')\n      ? '&' + query\n      : '?' + query;\n  }\n};\n\n/**\n * Initiate request, invoking callback `fn(res)`\n * with an instanceof `Response`.\n *\n * @param {Function} fn\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.end = function(fn){\n  var self = this;\n  var xhr = this.xhr = request.getXHR();\n  var timeout = this._timeout;\n  var data = this._formData || this._data;\n\n  // store callback\n  this._callback = fn || noop;\n\n  // state change\n  xhr.onreadystatechange = function(){\n    if (4 != xhr.readyState) return;\n\n    // In IE9, reads to any property (e.g. status) off of an aborted XHR will\n    // result in the error \"Could not complete the operation due to error c00c023f\"\n    var status;\n    try { status = xhr.status } catch(e) { status = 0; }\n\n    if (0 == status) {\n      if (self.timedout) return self._timeoutError();\n      if (self._aborted) return;\n      return self.crossDomainError();\n    }\n    self.emit('end');\n  };\n\n  // progress\n  var handleProgress = function(direction, e) {\n    if (e.total > 0) {\n      e.percent = e.loaded / e.total * 100;\n    }\n    e.direction = direction;\n    self.emit('progress', e);\n  }\n  if (this.hasListeners('progress')) {\n    try {\n      xhr.onprogress = handleProgress.bind(null, 'download');\n      if (xhr.upload) {\n        xhr.upload.onprogress = handleProgress.bind(null, 'upload');\n      }\n    } catch(e) {\n      // Accessing xhr.upload fails in IE from a web worker, so just pretend it doesn't exist.\n      // Reported here:\n      // https://connect.microsoft.com/IE/feedback/details/837245/xmlhttprequest-upload-throws-invalid-argument-when-used-from-web-worker-context\n    }\n  }\n\n  // timeout\n  if (timeout && !this._timer) {\n    this._timer = setTimeout(function(){\n      self.timedout = true;\n      self.abort();\n    }, timeout);\n  }\n\n  // querystring\n  this._appendQueryString();\n\n  // initiate request\n  if (this.username && this.password) {\n    xhr.open(this.method, this.url, true, this.username, this.password);\n  } else {\n    xhr.open(this.method, this.url, true);\n  }\n\n  // CORS\n  if (this._withCredentials) xhr.withCredentials = true;\n\n  // body\n  if ('GET' != this.method && 'HEAD' != this.method && 'string' != typeof data && !this._isHost(data)) {\n    // serialize stuff\n    var contentType = this._header['content-type'];\n    var serialize = this._serializer || request.serialize[contentType ? contentType.split(';')[0] : ''];\n    if (!serialize && isJSON(contentType)) serialize = request.serialize['application/json'];\n    if (serialize) data = serialize(data);\n  }\n\n  // set header fields\n  for (var field in this.header) {\n    if (null == this.header[field]) continue;\n    xhr.setRequestHeader(field, this.header[field]);\n  }\n\n  if (this._responseType) {\n    xhr.responseType = this._responseType;\n  }\n\n  // send stuff\n  this.emit('request', this);\n\n  // IE11 xhr.send(undefined) sends 'undefined' string as POST payload (instead of nothing)\n  // We need null here if data is undefined\n  xhr.send(typeof data !== 'undefined' ? data : null);\n  return this;\n};\n\n\n/**\n * Expose `Request`.\n */\n\nrequest.Request = Request;\n\n/**\n * GET `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.get = function(url, data, fn){\n  var req = request('GET', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * HEAD `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.head = function(url, data, fn){\n  var req = request('HEAD', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * OPTIONS query to `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.options = function(url, data, fn){\n  var req = request('OPTIONS', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * DELETE `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nfunction del(url, fn){\n  var req = request('DELETE', url);\n  if (fn) req.end(fn);\n  return req;\n};\n\nrequest['del'] = del;\nrequest['delete'] = del;\n\n/**\n * PATCH `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.patch = function(url, data, fn){\n  var req = request('PATCH', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * POST `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.post = function(url, data, fn){\n  var req = request('POST', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * PUT `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.put = function(url, data, fn){\n  var req = request('PUT', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nexport default function Stream (source) {\n  this.source = source\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\n// Non-mutating array operations\n\n// cons :: a -> [a] -> [a]\n// a with x prepended\nexport function cons (x, a) {\n  const l = a.length\n  const b = new Array(l + 1)\n  b[0] = x\n  for (let i = 0; i < l; ++i) {\n    b[i + 1] = a[i]\n  }\n  return b\n}\n\n// append :: a -> [a] -> [a]\n// a with x appended\nexport function append (x, a) {\n  const l = a.length\n  const b = new Array(l + 1)\n  for (let i = 0; i < l; ++i) {\n    b[i] = a[i]\n  }\n\n  b[l] = x\n  return b\n}\n\n// drop :: Int -> [a] -> [a]\n// drop first n elements\nexport function drop (n, a) { // eslint-disable-line complexity\n  if (n < 0) {\n    throw new TypeError('n must be >= 0')\n  }\n\n  const l = a.length\n  if (n === 0 || l === 0) {\n    return a\n  }\n\n  if (n >= l) {\n    return []\n  }\n\n  return unsafeDrop(n, a, l - n)\n}\n\n// unsafeDrop :: Int -> [a] -> Int -> [a]\n// Internal helper for drop\nfunction unsafeDrop (n, a, l) {\n  const b = new Array(l)\n  for (let i = 0; i < l; ++i) {\n    b[i] = a[n + i]\n  }\n  return b\n}\n\n// tail :: [a] -> [a]\n// drop head element\nexport function tail (a) {\n  return drop(1, a)\n}\n\n// copy :: [a] -> [a]\n// duplicate a (shallow duplication)\nexport function copy (a) {\n  const l = a.length\n  const b = new Array(l)\n  for (let i = 0; i < l; ++i) {\n    b[i] = a[i]\n  }\n  return b\n}\n\n// map :: (a -> b) -> [a] -> [b]\n// transform each element with f\nexport function map (f, a) {\n  const l = a.length\n  const b = new Array(l)\n  for (let i = 0; i < l; ++i) {\n    b[i] = f(a[i])\n  }\n  return b\n}\n\n// reduce :: (a -> b -> a) -> a -> [b] -> a\n// accumulate via left-fold\nexport function reduce (f, z, a) {\n  let r = z\n  for (let i = 0, l = a.length; i < l; ++i) {\n    r = f(r, a[i], i)\n  }\n  return r\n}\n\n// replace :: a -> Int -> [a]\n// replace element at index\nexport function replace (x, i, a) { // eslint-disable-line complexity\n  if (i < 0) {\n    throw new TypeError('i must be >= 0')\n  }\n\n  const l = a.length\n  const b = new Array(l)\n  for (let j = 0; j < l; ++j) {\n    b[j] = i === j ? x : a[j]\n  }\n  return b\n}\n\n// remove :: Int -> [a] -> [a]\n// remove element at index\nexport function remove (i, a) {  // eslint-disable-line complexity\n  if (i < 0) {\n    throw new TypeError('i must be >= 0')\n  }\n\n  const l = a.length\n  if (l === 0 || i >= l) { // exit early if index beyond end of array\n    return a\n  }\n\n  if (l === 1) { // exit early if index in bounds and length === 1\n    return []\n  }\n\n  return unsafeRemove(i, a, l - 1)\n}\n\n// unsafeRemove :: Int -> [a] -> Int -> [a]\n// Internal helper to remove element at index\nfunction unsafeRemove (i, a, l) {\n  const b = new Array(l)\n  let j\n  for (j = 0; j < i; ++j) {\n    b[j] = a[j]\n  }\n  for (j = i; j < l; ++j) {\n    b[j] = a[j + 1]\n  }\n\n  return b\n}\n\n// removeAll :: (a -> boolean) -> [a] -> [a]\n// remove all elements matching a predicate\nexport function removeAll (f, a) {\n  const l = a.length\n  const b = new Array(l)\n  let j = 0\n  for (let x, i = 0; i < l; ++i) {\n    x = a[i]\n    if (!f(x)) {\n      b[j] = x\n      ++j\n    }\n  }\n\n  b.length = j\n  return b\n}\n\n// findIndex :: a -> [a] -> Int\n// find index of x in a, from the left\nexport function findIndex (x, a) {\n  for (let i = 0, l = a.length; i < l; ++i) {\n    if (x === a[i]) {\n      return i\n    }\n  }\n  return -1\n}\n\n// isArrayLike :: * -> boolean\n// Return true iff x is array-like\nexport function isArrayLike (x) {\n  return x != null && typeof x.length === 'number' && typeof x !== 'function'\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\n// id :: a -> a\nexport const id = x => x\n\n// compose :: (b -> c) -> (a -> b) -> (a -> c)\nexport const compose = (f, g) => x => f(g(x))\n\n// apply :: (a -> b) -> a -> b\nexport const apply = (f, x) => f(x)\n\n// curry2 :: ((a, b) -> c) -> (a -> b -> c)\nexport function curry2 (f) {\n  function curried (a, b) {\n    switch (arguments.length) {\n      case 0: return curried\n      case 1: return b => f(a, b)\n      default: return f(a, b)\n    }\n  }\n  return curried\n}\n\n// curry3 :: ((a, b, c) -> d) -> (a -> b -> c -> d)\nexport function curry3 (f) {\n  function curried (a, b, c) { // eslint-disable-line complexity\n    switch (arguments.length) {\n      case 0: return curried\n      case 1: return curry2((b, c) => f(a, b, c))\n      case 2: return c => f(a, b, c)\n      default:return f(a, b, c)\n    }\n  }\n  return curried\n}\n","/** @license MIT License (c) copyright 2016 original author or authors */\n\nexport * from './array'\nexport * from './function'\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Create a new Disposable which will dispose its underlying resource.\n * @param {function} dispose function\n * @param {*?} data any data to be passed to disposer function\n * @constructor\n */\nexport default function Disposable (dispose, data) {\n  this._dispose = dispose\n  this._data = data\n}\n\nDisposable.prototype.dispose = function () {\n  return this._dispose(this._data)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nexport default function SettableDisposable () {\n  this.disposable = void 0\n  this.disposed = false\n  this._resolve = void 0\n\n  var self = this\n  this.result = new Promise(function (resolve) {\n    self._resolve = resolve\n  })\n}\n\nSettableDisposable.prototype.setDisposable = function (disposable) {\n  if (this.disposable !== void 0) {\n    throw new Error('setDisposable called more than once')\n  }\n\n  this.disposable = disposable\n\n  if (this.disposed) {\n    this._resolve(disposable.dispose())\n  }\n}\n\nSettableDisposable.prototype.dispose = function () {\n  if (this.disposed) {\n    return this.result\n  }\n\n  this.disposed = true\n\n  if (this.disposable !== void 0) {\n    this.result = this.disposable.dispose()\n  }\n\n  return this.result\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nexport function isPromise (p) {\n  return p !== null && typeof p === 'object' && typeof p.then === 'function'\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\nimport Disposable from './Disposable'\nimport SettableDisposable from './SettableDisposable'\nimport { isPromise } from '../Promise'\nimport * as base from '@most/prelude'\n\nvar map = base.map\nvar identity = base.id\n\n/**\n * Call disposable.dispose.  If it returns a promise, catch promise\n * error and forward it through the provided sink.\n * @param {number} t time\n * @param {{dispose: function}} disposable\n * @param {{error: function}} sink\n * @return {*} result of disposable.dispose\n */\nexport function tryDispose (t, disposable, sink) {\n  var result = disposeSafely(disposable)\n  return isPromise(result)\n    ? result.catch(function (e) {\n      sink.error(t, e)\n    })\n    : result\n}\n\n/**\n * Create a new Disposable which will dispose its underlying resource\n * at most once.\n * @param {function} dispose function\n * @param {*?} data any data to be passed to disposer function\n * @return {Disposable}\n */\nexport function create (dispose, data) {\n  return once(new Disposable(dispose, data))\n}\n\n/**\n * Create a noop disposable. Can be used to satisfy a Disposable\n * requirement when no actual resource needs to be disposed.\n * @return {Disposable|exports|module.exports}\n */\nexport function empty () {\n  return new Disposable(identity, void 0)\n}\n\n/**\n * Create a disposable that will dispose all input disposables in parallel.\n * @param {Array<Disposable>} disposables\n * @return {Disposable}\n */\nexport function all (disposables) {\n  return create(disposeAll, disposables)\n}\n\nfunction disposeAll (disposables) {\n  return Promise.all(map(disposeSafely, disposables))\n}\n\nfunction disposeSafely (disposable) {\n  try {\n    return disposable.dispose()\n  } catch (e) {\n    return Promise.reject(e)\n  }\n}\n\n/**\n * Create a disposable from a promise for another disposable\n * @param {Promise<Disposable>} disposablePromise\n * @return {Disposable}\n */\nexport function promised (disposablePromise) {\n  return create(disposePromise, disposablePromise)\n}\n\nfunction disposePromise (disposablePromise) {\n  return disposablePromise.then(disposeOne)\n}\n\nfunction disposeOne (disposable) {\n  return disposable.dispose()\n}\n\n/**\n * Create a disposable proxy that allows its underlying disposable to\n * be set later.\n * @return {SettableDisposable}\n */\nexport function settable () {\n  return new SettableDisposable()\n}\n\n/**\n * Wrap an existing disposable (which may not already have been once()d)\n * so that it will only dispose its underlying resource at most once.\n * @param {{ dispose: function() }} disposable\n * @return {Disposable} wrapped disposable\n */\nexport function once (disposable) {\n  return new Disposable(disposeMemoized, memoized(disposable))\n}\n\nfunction disposeMemoized (memoized) {\n  if (!memoized.disposed) {\n    memoized.disposed = true\n    memoized.value = disposeSafely(memoized.disposable)\n    memoized.disposable = void 0\n  }\n\n  return memoized.value\n}\n\nfunction memoized (disposable) {\n  return { disposed: false, disposable: disposable, value: void 0 }\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nexport default function fatalError (e) {\n  setTimeout(function () {\n    throw e\n  }, 0)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport fatal from '../fatalError'\n\nexport default function PropagateTask (run, value, sink) {\n  this._run = run\n  this.value = value\n  this.sink = sink\n  this.active = true\n}\n\nPropagateTask.event = function (value, sink) {\n  return new PropagateTask(emit, value, sink)\n}\n\nPropagateTask.end = function (value, sink) {\n  return new PropagateTask(end, value, sink)\n}\n\nPropagateTask.error = function (value, sink) {\n  return new PropagateTask(error, value, sink)\n}\n\nPropagateTask.prototype.dispose = function () {\n  this.active = false\n}\n\nPropagateTask.prototype.run = function (t) {\n  if (!this.active) {\n    return\n  }\n  this._run(t, this.value, this.sink)\n}\n\nPropagateTask.prototype.error = function (t, e) {\n  if (!this.active) {\n    return fatal(e)\n  }\n  this.sink.error(t, e)\n}\n\nfunction error (t, e, sink) {\n  sink.error(t, e)\n}\n\nfunction emit (t, x, sink) {\n  sink.event(t, x)\n}\n\nfunction end (t, x, sink) {\n  sink.end(t, x)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport * as dispose from '../disposable/dispose'\nimport PropagateTask from '../scheduler/PropagateTask'\n\n/**\n * Stream containing only x\n * @param {*} x\n * @returns {Stream}\n */\nexport function of (x) {\n  return new Stream(new Just(x))\n}\n\nfunction Just (x) {\n  this.value = x\n}\n\nJust.prototype.run = function (sink, scheduler) {\n  return scheduler.asap(new PropagateTask(runJust, this.value, sink))\n}\n\nfunction runJust (t, x, sink) {\n  sink.event(t, x)\n  sink.end(t, void 0)\n}\n\n/**\n * Stream containing no events and ends immediately\n * @returns {Stream}\n */\nexport function empty () {\n  return EMPTY\n}\n\nfunction EmptySource () {}\n\nEmptySource.prototype.run = function (sink, scheduler) {\n  var task = PropagateTask.end(void 0, sink)\n  scheduler.asap(task)\n\n  return dispose.create(disposeEmpty, task)\n}\n\nfunction disposeEmpty (task) {\n  return task.dispose()\n}\n\nvar EMPTY = new Stream(new EmptySource())\n\n/**\n * Stream containing no events and never ends\n * @returns {Stream}\n */\nexport function never () {\n  return NEVER\n}\n\nfunction NeverSource () {}\n\nNeverSource.prototype.run = function () {\n  return dispose.empty()\n}\n\nvar NEVER = new Stream(new NeverSource())\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport PropagateTask from '../scheduler/PropagateTask'\n\nexport function fromArray (a) {\n  return new Stream(new ArraySource(a))\n}\n\nfunction ArraySource (a) {\n  this.array = a\n}\n\nArraySource.prototype.run = function (sink, scheduler) {\n  return scheduler.asap(new PropagateTask(runProducer, this.array, sink))\n}\n\nfunction runProducer (t, array, sink) {\n  for (var i = 0, l = array.length; i < l && this.active; ++i) {\n    sink.event(t, array[i])\n  }\n\n  this.active && end(t)\n\n  function end (t) {\n    sink.end(t)\n  }\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/*global Set, Symbol*/\nvar iteratorSymbol\n// Firefox ships a partial implementation using the name @@iterator.\n// https://bugzilla.mozilla.org/show_bug.cgi?id=907077#c14\nif (typeof Set === 'function' && typeof new Set()['@@iterator'] === 'function') {\n  iteratorSymbol = '@@iterator'\n} else {\n  iteratorSymbol = typeof Symbol === 'function' && Symbol.iterator ||\n  '_es6shim_iterator_'\n}\n\nexport function isIterable (o) {\n  return typeof o[iteratorSymbol] === 'function'\n}\n\nexport function getIterator (o) {\n  return o[iteratorSymbol]()\n}\n\nexport function makeIterable (f, o) {\n  o[iteratorSymbol] = f\n  return o\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport { getIterator } from '../iterable'\nimport PropagateTask from '../scheduler/PropagateTask'\n\nexport function fromIterable (iterable) {\n  return new Stream(new IterableSource(iterable))\n}\n\nfunction IterableSource (iterable) {\n  this.iterable = iterable\n}\n\nIterableSource.prototype.run = function (sink, scheduler) {\n  return new IteratorProducer(getIterator(this.iterable), sink, scheduler)\n}\n\nfunction IteratorProducer (iterator, sink, scheduler) {\n  this.scheduler = scheduler\n  this.iterator = iterator\n  this.task = new PropagateTask(runProducer, this, sink)\n  scheduler.asap(this.task)\n}\n\nIteratorProducer.prototype.dispose = function () {\n  return this.task.dispose()\n}\n\nfunction runProducer (t, producer, sink) {\n  var x = producer.iterator.next()\n  if (x.done) {\n    sink.end(t, x.value)\n  } else {\n    sink.event(t, x.value)\n  }\n\n  producer.scheduler.asap(producer.task)\n}\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","/* global window */\nimport ponyfill from './ponyfill';\n\nvar root = this;\nif (typeof global !== 'undefined') {\n\troot = global;\n} else if (typeof window !== 'undefined') {\n\troot = window;\n}\n\nvar result = ponyfill(root);\nexport default result;\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport symbolObservable from 'symbol-observable'\n\nexport default function getObservable (o) { // eslint-disable-line complexity\n  var obs = null\n  if (o) {\n  // Access foreign method only once\n    var method = o[symbolObservable]\n    if (typeof method === 'function') {\n      obs = method.call(o)\n      if (!(obs && typeof obs.subscribe === 'function')) {\n        throw new TypeError('invalid observable ' + obs)\n      }\n    }\n  }\n\n  return obs\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport * as dispose from '../disposable/dispose'\n\nexport function fromObservable (observable) {\n  return new Stream(new ObservableSource(observable))\n}\n\nexport function ObservableSource (observable) {\n  this.observable = observable\n}\n\nObservableSource.prototype.run = function (sink, scheduler) {\n  var sub = this.observable.subscribe(new SubscriberSink(sink, scheduler))\n  if (typeof sub === 'function') {\n    return dispose.create(sub)\n  } else if (sub && typeof sub.unsubscribe === 'function') {\n    return dispose.create(unsubscribe, sub)\n  }\n\n  throw new TypeError('Observable returned invalid subscription ' + String(sub))\n}\n\nexport function SubscriberSink (sink, scheduler) {\n  this.sink = sink\n  this.scheduler = scheduler\n}\n\nSubscriberSink.prototype.next = function (x) {\n  this.sink.event(this.scheduler.now(), x)\n}\n\nSubscriberSink.prototype.complete = function (x) {\n  this.sink.end(this.scheduler.now(), x)\n}\n\nSubscriberSink.prototype.error = function (e) {\n  this.sink.error(this.scheduler.now(), e)\n}\n\nfunction unsubscribe (subscription) {\n  return subscription.unsubscribe()\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport { fromArray } from './fromArray'\nimport { isIterable } from '../iterable'\nimport { fromIterable } from './fromIterable'\nimport getObservable from '../observable/getObservable'\nimport { fromObservable } from '../observable/fromObservable'\nimport { isArrayLike } from '@most/prelude'\n\nexport function from (a) { // eslint-disable-line complexity\n  if (a instanceof Stream) {\n    return a\n  }\n\n  var observable = getObservable(a)\n  if (observable != null) {\n    return fromObservable(observable)\n  }\n\n  if (Array.isArray(a) || isArrayLike(a)) {\n    return fromArray(a)\n  }\n\n  if (isIterable(a)) {\n    return fromIterable(a)\n  }\n\n  throw new TypeError('from(x) must be observable, iterable, or array-like: ' + a)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport PropagateTask from '../scheduler/PropagateTask'\n\n/**\n * Create a stream that emits the current time periodically\n * @param {Number} period periodicity of events in millis\n * @param {*} value value to emit each period\n * @returns {Stream} new stream that emits the current time every period\n */\nexport function periodic (period, value) {\n  return new Stream(new Periodic(period, value))\n}\n\nfunction Periodic (period, value) {\n  this.period = period\n  this.value = value\n}\n\nPeriodic.prototype.run = function (sink, scheduler) {\n  return scheduler.periodic(this.period, PropagateTask.event(this.value, sink))\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nexport default function ScheduledTask (delay, period, task, scheduler) {\n  this.time = delay\n  this.period = period\n  this.task = task\n  this.scheduler = scheduler\n  this.active = true\n}\n\nScheduledTask.prototype.run = function () {\n  return this.task.run(this.time)\n}\n\nScheduledTask.prototype.error = function (e) {\n  return this.task.error(this.time, e)\n}\n\nScheduledTask.prototype.dispose = function () {\n  this.scheduler.cancel(this)\n  return this.task.dispose()\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nexport function defer (task) {\n  return Promise.resolve(task).then(runTask)\n}\n\nexport function runTask (task) {\n  try {\n    return task.run()\n  } catch (e) {\n    return task.error(e)\n  }\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport ScheduledTask from './ScheduledTask'\nimport { runTask } from '../task'\n\nexport default function Scheduler (timer, timeline) {\n  this.timer = timer\n  this.timeline = timeline\n\n  this._timer = null\n  this._nextArrival = Infinity\n\n  var self = this\n  this._runReadyTasksBound = function () {\n    self._runReadyTasks(self.now())\n  }\n}\n\nScheduler.prototype.now = function () {\n  return this.timer.now()\n}\n\nScheduler.prototype.asap = function (task) {\n  return this.schedule(0, -1, task)\n}\n\nScheduler.prototype.delay = function (delay, task) {\n  return this.schedule(delay, -1, task)\n}\n\nScheduler.prototype.periodic = function (period, task) {\n  return this.schedule(0, period, task)\n}\n\nScheduler.prototype.schedule = function (delay, period, task) {\n  var now = this.now()\n  var st = new ScheduledTask(now + Math.max(0, delay), period, task, this)\n\n  this.timeline.add(st)\n  this._scheduleNextRun(now)\n  return st\n}\n\nScheduler.prototype.cancel = function (task) {\n  task.active = false\n  if (this.timeline.remove(task)) {\n    this._reschedule()\n  }\n}\n\nScheduler.prototype.cancelAll = function (f) {\n  this.timeline.removeAll(f)\n  this._reschedule()\n}\n\nScheduler.prototype._reschedule = function () {\n  if (this.timeline.isEmpty()) {\n    this._unschedule()\n  } else {\n    this._scheduleNextRun(this.now())\n  }\n}\n\nScheduler.prototype._unschedule = function () {\n  this.timer.clearTimer(this._timer)\n  this._timer = null\n}\n\nScheduler.prototype._scheduleNextRun = function (now) { // eslint-disable-line complexity\n  if (this.timeline.isEmpty()) {\n    return\n  }\n\n  var nextArrival = this.timeline.nextArrival()\n\n  if (this._timer === null) {\n    this._scheduleNextArrival(nextArrival, now)\n  } else if (nextArrival < this._nextArrival) {\n    this._unschedule()\n    this._scheduleNextArrival(nextArrival, now)\n  }\n}\n\nScheduler.prototype._scheduleNextArrival = function (nextArrival, now) {\n  this._nextArrival = nextArrival\n  var delay = Math.max(0, nextArrival - now)\n  this._timer = this.timer.setTimer(this._runReadyTasksBound, delay)\n}\n\nScheduler.prototype._runReadyTasks = function (now) {\n  this._timer = null\n  this.timeline.runTasks(now, runTask)\n  this._scheduleNextRun(this.now())\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport { defer } from '../task'\n\n/*global setTimeout, clearTimeout*/\n\nexport default function ClockTimer () {}\n\nClockTimer.prototype.now = Date.now\n\nClockTimer.prototype.setTimer = function (f, dt) {\n  return dt <= 0 ? runAsap(f) : setTimeout(f, dt)\n}\n\nClockTimer.prototype.clearTimer = function (t) {\n  return t instanceof Asap ? t.cancel() : clearTimeout(t)\n}\n\nfunction Asap (f) {\n  this.f = f\n  this.active = true\n}\n\nAsap.prototype.run = function () {\n  return this.active && this.f()\n}\n\nAsap.prototype.error = function (e) {\n  throw e\n}\n\nAsap.prototype.cancel = function () {\n  this.active = false\n}\n\nfunction runAsap (f) {\n  var task = new Asap(f)\n  defer(task)\n  return task\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport * as base from '@most/prelude'\n\nexport default function Timeline () {\n  this.tasks = []\n}\n\nTimeline.prototype.nextArrival = function () {\n  return this.isEmpty() ? Infinity : this.tasks[0].time\n}\n\nTimeline.prototype.isEmpty = function () {\n  return this.tasks.length === 0\n}\n\nTimeline.prototype.add = function (st) {\n  insertByTime(st, this.tasks)\n}\n\nTimeline.prototype.remove = function (st) {\n  var i = binarySearch(st.time, this.tasks)\n\n  if (i >= 0 && i < this.tasks.length) {\n    var at = base.findIndex(st, this.tasks[i].events)\n    if (at >= 0) {\n      this.tasks[i].events.splice(at, 1)\n      return true\n    }\n  }\n\n  return false\n}\n\nTimeline.prototype.removeAll = function (f) {\n  for (var i = 0, l = this.tasks.length; i < l; ++i) {\n    removeAllFrom(f, this.tasks[i])\n  }\n}\n\nTimeline.prototype.runTasks = function (t, runTask) {\n  var tasks = this.tasks\n  var l = tasks.length\n  var i = 0\n\n  while (i < l && tasks[i].time <= t) {\n    ++i\n  }\n\n  this.tasks = tasks.slice(i)\n\n  // Run all ready tasks\n  for (var j = 0; j < i; ++j) {\n    this.tasks = runTasks(runTask, tasks[j], this.tasks)\n  }\n}\n\nfunction runTasks (runTask, timeslot, tasks) { // eslint-disable-line complexity\n  var events = timeslot.events\n  for (var i = 0; i < events.length; ++i) {\n    var task = events[i]\n\n    if (task.active) {\n      runTask(task)\n\n      // Reschedule periodic repeating tasks\n      // Check active again, since a task may have canceled itself\n      if (task.period >= 0 && task.active) {\n        task.time = task.time + task.period\n        insertByTime(task, tasks)\n      }\n    }\n  }\n\n  return tasks\n}\n\nfunction insertByTime (task, timeslots) { // eslint-disable-line complexity\n  var l = timeslots.length\n\n  if (l === 0) {\n    timeslots.push(newTimeslot(task.time, [task]))\n    return\n  }\n\n  var i = binarySearch(task.time, timeslots)\n\n  if (i >= l) {\n    timeslots.push(newTimeslot(task.time, [task]))\n  } else if (task.time === timeslots[i].time) {\n    timeslots[i].events.push(task)\n  } else {\n    timeslots.splice(i, 0, newTimeslot(task.time, [task]))\n  }\n}\n\nfunction removeAllFrom (f, timeslot) {\n  timeslot.events = base.removeAll(f, timeslot.events)\n}\n\nfunction binarySearch (t, sortedArray) { // eslint-disable-line complexity\n  var lo = 0\n  var hi = sortedArray.length\n  var mid, y\n\n  while (lo < hi) {\n    mid = Math.floor((lo + hi) / 2)\n    y = sortedArray[mid]\n\n    if (t === y.time) {\n      return mid\n    } else if (t < y.time) {\n      hi = mid\n    } else {\n      lo = mid + 1\n    }\n  }\n  return hi\n}\n\nfunction newTimeslot (t, events) {\n  return { time: t, events: events }\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Scheduler from './Scheduler'\nimport ClockTimer from './ClockTimer'\nimport Timeline from './Timeline'\n\nvar defaultScheduler = new Scheduler(new ClockTimer(), new Timeline())\n\nexport default defaultScheduler\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport defaultScheduler from '../scheduler/defaultScheduler'\nimport * as dispose from '../disposable/dispose'\nimport fatalError from '../fatalError'\n\nexport function subscribe (subscriber, stream) {\n  if (subscriber == null || typeof subscriber !== 'object') {\n    throw new TypeError('subscriber must be an object')\n  }\n\n  var disposable = dispose.settable()\n  var observer = new SubscribeObserver(fatalError, subscriber, disposable)\n\n  disposable.setDisposable(stream.source.run(observer, defaultScheduler))\n\n  return new Subscription(disposable)\n}\n\nexport function SubscribeObserver (fatalError, subscriber, disposable) {\n  this.fatalError = fatalError\n  this.subscriber = subscriber\n  this.disposable = disposable\n}\n\nSubscribeObserver.prototype.event = function (t, x) {\n  if (typeof this.subscriber.next === 'function') {\n    this.subscriber.next(x)\n  }\n}\n\nSubscribeObserver.prototype.end = function (t, x) {\n  var s = this.subscriber\n  doDispose(this.fatalError, s, s.complete, s.error, this.disposable, x)\n}\n\nSubscribeObserver.prototype.error = function (t, e) {\n  var s = this.subscriber\n  doDispose(this.fatalError, s, s.error, s.error, this.disposable, e)\n}\n\nexport function Subscription (disposable) {\n  this.disposable = disposable\n}\n\nSubscription.prototype.unsubscribe = function () {\n  this.disposable.dispose()\n}\n\nfunction doDispose (fatal, subscriber, complete, error, disposable, x) {\n  Promise.resolve(disposable.dispose()).then(function () {\n    if (typeof complete === 'function') {\n      complete.call(subscriber, x)\n    }\n  }).catch(function (e) {\n    if (typeof error === 'function') {\n      error.call(subscriber, e)\n    }\n  }).catch(fatal)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nexport function thru (f, stream) {\n  return f(stream)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nexport function tryEvent (t, x, sink) {\n  try {\n    sink.event(t, x)\n  } catch (e) {\n    sink.error(t, e)\n  }\n}\n\nexport function tryEnd (t, x, sink) {\n  try {\n    sink.end(t, x)\n  } catch (e) {\n    sink.error(t, e)\n  }\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport * as dispose from '../disposable/dispose'\nimport * as tryEvent from './tryEvent'\n\nexport default function EventTargetSource (event, source, capture) {\n  this.event = event\n  this.source = source\n  this.capture = capture\n}\n\nEventTargetSource.prototype.run = function (sink, scheduler) {\n  function addEvent (e) {\n    tryEvent.tryEvent(scheduler.now(), e, sink)\n  }\n\n  this.source.addEventListener(this.event, addEvent, this.capture)\n\n  return dispose.create(disposeEventTarget,\n    { target: this, addEvent: addEvent })\n}\n\nfunction disposeEventTarget (info) {\n  var target = info.target\n  target.source.removeEventListener(target.event, info.addEvent, target.capture)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport { defer } from '../task'\n\nexport default function DeferredSink (sink) {\n  this.sink = sink\n  this.events = []\n  this.active = true\n}\n\nDeferredSink.prototype.event = function (t, x) {\n  if (!this.active) {\n    return\n  }\n\n  if (this.events.length === 0) {\n    defer(new PropagateAllTask(this.sink, t, this.events))\n  }\n\n  this.events.push({ time: t, value: x })\n}\n\nDeferredSink.prototype.end = function (t, x) {\n  if (!this.active) {\n    return\n  }\n\n  this._end(new EndTask(t, x, this.sink))\n}\n\nDeferredSink.prototype.error = function (t, e) {\n  this._end(new ErrorTask(t, e, this.sink))\n}\n\nDeferredSink.prototype._end = function (task) {\n  this.active = false\n  defer(task)\n}\n\nfunction PropagateAllTask (sink, time, events) {\n  this.sink = sink\n  this.events = events\n  this.time = time\n}\n\nPropagateAllTask.prototype.run = function () {\n  var events = this.events\n  var sink = this.sink\n  var event\n\n  for (var i = 0, l = events.length; i < l; ++i) {\n    event = events[i]\n    this.time = event.time\n    sink.event(event.time, event.value)\n  }\n\n  events.length = 0\n}\n\nPropagateAllTask.prototype.error = function (e) {\n  this.sink.error(this.time, e)\n}\n\nfunction EndTask (t, x, sink) {\n  this.time = t\n  this.value = x\n  this.sink = sink\n}\n\nEndTask.prototype.run = function () {\n  this.sink.end(this.time, this.value)\n}\n\nEndTask.prototype.error = function (e) {\n  this.sink.error(this.time, e)\n}\n\nfunction ErrorTask (t, e, sink) {\n  this.time = t\n  this.value = e\n  this.sink = sink\n}\n\nErrorTask.prototype.run = function () {\n  this.sink.error(this.time, this.value)\n}\n\nErrorTask.prototype.error = function (e) {\n  throw e\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport DeferredSink from '../sink/DeferredSink'\nimport * as dispose from '../disposable/dispose'\nimport * as tryEvent from './tryEvent'\n\nexport default function EventEmitterSource (event, source) {\n  this.event = event\n  this.source = source\n}\n\nEventEmitterSource.prototype.run = function (sink, scheduler) {\n  // NOTE: Because EventEmitter allows events in the same call stack as\n  // a listener is added, use a DeferredSink to buffer events\n  // until the stack clears, then propagate.  This maintains most.js's\n  // invariant that no event will be delivered in the same call stack\n  // as an observer begins observing.\n  var dsink = new DeferredSink(sink)\n\n  function addEventVariadic (a) {\n    var l = arguments.length\n    if (l > 1) {\n      var arr = new Array(l)\n      for (var i = 0; i < l; ++i) {\n        arr[i] = arguments[i]\n      }\n      tryEvent.tryEvent(scheduler.now(), arr, dsink)\n    } else {\n      tryEvent.tryEvent(scheduler.now(), a, dsink)\n    }\n  }\n\n  this.source.addListener(this.event, addEventVariadic)\n\n  return dispose.create(disposeEventEmitter, { target: this, addEvent: addEventVariadic })\n}\n\nfunction disposeEventEmitter (info) {\n  var target = info.target\n  target.source.removeListener(target.event, info.addEvent)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport EventTargetSource from './EventTargetSource'\nimport EventEmitterSource from './EventEmitterSource'\n\n/**\n * Create a stream from an EventTarget, such as a DOM Node, or EventEmitter.\n * @param {String} event event type name, e.g. 'click'\n * @param {EventTarget|EventEmitter} source EventTarget or EventEmitter\n * @param {*?} capture for DOM events, whether to use\n *  capturing--passed as 3rd parameter to addEventListener.\n * @returns {Stream} stream containing all events of the specified type\n * from the source.\n */\nexport function fromEvent (event, source, capture) { // eslint-disable-line complexity\n  var s\n\n  if (typeof source.addEventListener === 'function' && typeof source.removeEventListener === 'function') {\n    if (arguments.length < 3) {\n      capture = false\n    }\n\n    s = new EventTargetSource(event, source, capture)\n  } else if (typeof source.addListener === 'function' && typeof source.removeListener === 'function') {\n    s = new EventEmitterSource(event, source)\n  } else {\n    throw new Error('source must support addEventListener/removeEventListener or addListener/removeListener')\n  }\n\n  return new Stream(s)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport * as dispose from './disposable/dispose'\nimport defaultScheduler from './scheduler/defaultScheduler'\n\nexport function withDefaultScheduler (source) {\n  return withScheduler(source, defaultScheduler)\n}\n\nexport function withScheduler (source, scheduler) {\n  return new Promise(function (resolve, reject) {\n    runSource(source, scheduler, resolve, reject)\n  })\n}\n\nfunction runSource (source, scheduler, resolve, reject) {\n  var disposable = dispose.settable()\n  var observer = new Drain(resolve, reject, disposable)\n\n  disposable.setDisposable(source.run(observer, scheduler))\n}\n\nfunction Drain (end, error, disposable) {\n  this._end = end\n  this._error = error\n  this._disposable = disposable\n  this.active = true\n}\n\nDrain.prototype.event = function (t, x) {}\n\nDrain.prototype.end = function (t, x) {\n  if (!this.active) {\n    return\n  }\n  this.active = false\n  disposeThen(this._end, this._error, this._disposable, x)\n}\n\nDrain.prototype.error = function (t, e) {\n  this.active = false\n  disposeThen(this._error, this._error, this._disposable, e)\n}\n\nfunction disposeThen (end, error, disposable, x) {\n  Promise.resolve(disposable.dispose()).then(function () {\n    end(x)\n  }, error)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * A sink mixin that simply forwards event, end, and error to\n * another sink.\n * @param sink\n * @constructor\n */\nexport default function Pipe (sink) {\n  this.sink = sink\n}\n\nPipe.prototype.event = function (t, x) {\n  return this.sink.event(t, x)\n}\n\nPipe.prototype.end = function (t, x) {\n  return this.sink.end(t, x)\n}\n\nPipe.prototype.error = function (t, e) {\n  return this.sink.error(t, e)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Pipe from '../sink/Pipe'\n\nexport default function Filter (p, source) {\n  this.p = p\n  this.source = source\n}\n\n/**\n * Create a filtered source, fusing adjacent filter.filter if possible\n * @param {function(x:*):boolean} p filtering predicate\n * @param {{run:function}} source source to filter\n * @returns {Filter} filtered source\n */\nFilter.create = function createFilter (p, source) {\n  if (source instanceof Filter) {\n    return new Filter(and(source.p, p), source.source)\n  }\n\n  return new Filter(p, source)\n}\n\nFilter.prototype.run = function (sink, scheduler) {\n  return this.source.run(new FilterSink(this.p, sink), scheduler)\n}\n\nfunction FilterSink (p, sink) {\n  this.p = p\n  this.sink = sink\n}\n\nFilterSink.prototype.end = Pipe.prototype.end\nFilterSink.prototype.error = Pipe.prototype.error\n\nFilterSink.prototype.event = function (t, x) {\n  var p = this.p\n  p(x) && this.sink.event(t, x)\n}\n\nfunction and (p, q) {\n  return function (x) {\n    return p(x) && q(x)\n  }\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Pipe from '../sink/Pipe'\n\nexport default function FilterMap (p, f, source) {\n  this.p = p\n  this.f = f\n  this.source = source\n}\n\nFilterMap.prototype.run = function (sink, scheduler) {\n  return this.source.run(new FilterMapSink(this.p, this.f, sink), scheduler)\n}\n\nfunction FilterMapSink (p, f, sink) {\n  this.p = p\n  this.f = f\n  this.sink = sink\n}\n\nFilterMapSink.prototype.event = function (t, x) {\n  var f = this.f\n  var p = this.p\n  p(x) && this.sink.event(t, f(x))\n}\n\nFilterMapSink.prototype.end = Pipe.prototype.end\nFilterMapSink.prototype.error = Pipe.prototype.error\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Pipe from '../sink/Pipe'\nimport Filter from './Filter'\nimport FilterMap from './FilterMap'\nimport * as base from '@most/prelude'\n\nexport default function Map (f, source) {\n  this.f = f\n  this.source = source\n}\n\n/**\n * Create a mapped source, fusing adjacent map.map, filter.map,\n * and filter.map.map if possible\n * @param {function(*):*} f mapping function\n * @param {{run:function}} source source to map\n * @returns {Map|FilterMap} mapped source, possibly fused\n */\nMap.create = function createMap (f, source) {\n  if (source instanceof Map) {\n    return new Map(base.compose(f, source.f), source.source)\n  }\n\n  if (source instanceof Filter) {\n    return new FilterMap(source.p, f, source.source)\n  }\n\n  return new Map(f, source)\n}\n\nMap.prototype.run = function (sink, scheduler) { // eslint-disable-line no-extend-native\n  return this.source.run(new MapSink(this.f, sink), scheduler)\n}\n\nfunction MapSink (f, sink) {\n  this.f = f\n  this.sink = sink\n}\n\nMapSink.prototype.end = Pipe.prototype.end\nMapSink.prototype.error = Pipe.prototype.error\n\nMapSink.prototype.event = function (t, x) {\n  var f = this.f\n  this.sink.event(t, f(x))\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport Map from '../fusion/Map'\nimport Pipe from '../sink/Pipe'\n\n/**\n * Transform each value in the stream by applying f to each\n * @param {function(*):*} f mapping function\n * @param {Stream} stream stream to map\n * @returns {Stream} stream containing items transformed by f\n */\nexport function map (f, stream) {\n  return new Stream(Map.create(f, stream.source))\n}\n\n/**\n* Replace each value in the stream with x\n* @param {*} x\n* @param {Stream} stream\n* @returns {Stream} stream containing items replaced with x\n*/\nexport function constant (x, stream) {\n  return map(function () {\n    return x\n  }, stream)\n}\n\n/**\n* Perform a side effect for each item in the stream\n* @param {function(x:*):*} f side effect to execute for each item. The\n*  return value will be discarded.\n* @param {Stream} stream stream to tap\n* @returns {Stream} new stream containing the same items as this stream\n*/\nexport function tap (f, stream) {\n  return new Stream(new Tap(f, stream.source))\n}\n\nfunction Tap (f, source) {\n  this.source = source\n  this.f = f\n}\n\nTap.prototype.run = function (sink, scheduler) {\n  return this.source.run(new TapSink(this.f, sink), scheduler)\n}\n\nfunction TapSink (f, sink) {\n  this.sink = sink\n  this.f = f\n}\n\nTapSink.prototype.end = Pipe.prototype.end\nTapSink.prototype.error = Pipe.prototype.error\n\nTapSink.prototype.event = function (t, x) {\n  var f = this.f\n  f(x)\n  this.sink.event(t, x)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport { withDefaultScheduler as run } from '../runSource'\nimport { tap } from './transform'\n\n/**\n * Observe all the event values in the stream in time order. The\n * provided function `f` will be called for each event value\n * @param {function(x:T):*} f function to call with each event value\n * @param {Stream<T>} stream stream to observe\n * @return {Promise} promise that fulfills after the stream ends without\n *  an error, or rejects if the stream ends with an error.\n */\nexport function observe (f, stream) {\n  return drain(tap(f, stream))\n}\n\n/**\n * \"Run\" a stream by creating demand and consuming all events\n * @param {Stream<T>} stream stream to drain\n * @return {Promise} promise that fulfills after the stream ends without\n *  an error, or rejects if the stream ends with an error.\n */\nexport function drain (stream) {\n  return run(stream.source)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport Pipe from '../sink/Pipe'\n\n/**\n * Generalized feedback loop. Call a stepper function for each event. The stepper\n * will be called with 2 params: the current seed and the an event value.  It must\n * return a new { seed, value } pair. The `seed` will be fed back into the next\n * invocation of stepper, and the `value` will be propagated as the event value.\n * @param {function(seed:*, value:*):{seed:*, value:*}} stepper loop step function\n * @param {*} seed initial seed value passed to first stepper call\n * @param {Stream} stream event stream\n * @returns {Stream} new stream whose values are the `value` field of the objects\n * returned by the stepper\n */\nexport function loop (stepper, seed, stream) {\n  return new Stream(new Loop(stepper, seed, stream.source))\n}\n\nfunction Loop (stepper, seed, source) {\n  this.step = stepper\n  this.seed = seed\n  this.source = source\n}\n\nLoop.prototype.run = function (sink, scheduler) {\n  return this.source.run(new LoopSink(this.step, this.seed, sink), scheduler)\n}\n\nfunction LoopSink (stepper, seed, sink) {\n  this.step = stepper\n  this.seed = seed\n  this.sink = sink\n}\n\nLoopSink.prototype.error = Pipe.prototype.error\n\nLoopSink.prototype.event = function (t, x) {\n  var result = this.step(this.seed, x)\n  this.seed = result.seed\n  this.sink.event(t, result.value)\n}\n\nLoopSink.prototype.end = function (t) {\n  this.sink.end(t, this.seed)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport Pipe from '../sink/Pipe'\nimport { withDefaultScheduler as runSource } from '../runSource'\nimport * as dispose from '../disposable/dispose'\nimport PropagateTask from '../scheduler/PropagateTask'\n\n/**\n * Create a stream containing successive reduce results of applying f to\n * the previous reduce result and the current stream item.\n * @param {function(result:*, x:*):*} f reducer function\n * @param {*} initial initial value\n * @param {Stream} stream stream to scan\n * @returns {Stream} new stream containing successive reduce results\n */\nexport function scan (f, initial, stream) {\n  return new Stream(new Scan(f, initial, stream.source))\n}\n\nfunction Scan (f, z, source) {\n  this.source = source\n  this.f = f\n  this.value = z\n}\n\nScan.prototype.run = function (sink, scheduler) {\n  var d1 = scheduler.asap(PropagateTask.event(this.value, sink))\n  var d2 = this.source.run(new ScanSink(this.f, this.value, sink), scheduler)\n  return dispose.all([d1, d2])\n}\n\nfunction ScanSink (f, z, sink) {\n  this.f = f\n  this.value = z\n  this.sink = sink\n}\n\nScanSink.prototype.event = function (t, x) {\n  var f = this.f\n  this.value = f(this.value, x)\n  this.sink.event(t, this.value)\n}\n\nScanSink.prototype.error = Pipe.prototype.error\nScanSink.prototype.end = Pipe.prototype.end\n\n/**\n* Reduce a stream to produce a single result.  Note that reducing an infinite\n* stream will return a Promise that never fulfills, but that may reject if an error\n* occurs.\n* @param {function(result:*, x:*):*} f reducer function\n* @param {*} initial initial value\n* @param {Stream} stream to reduce\n* @returns {Promise} promise for the file result of the reduce\n*/\nexport function reduce (f, initial, stream) {\n  return runSource(new Reduce(f, initial, stream.source))\n}\n\nfunction Reduce (f, z, source) {\n  this.source = source\n  this.f = f\n  this.value = z\n}\n\nReduce.prototype.run = function (sink, scheduler) {\n  return this.source.run(new ReduceSink(this.f, this.value, sink), scheduler)\n}\n\nfunction ReduceSink (f, z, sink) {\n  this.f = f\n  this.value = z\n  this.sink = sink\n}\n\nReduceSink.prototype.event = function (t, x) {\n  var f = this.f\n  this.value = f(this.value, x)\n  this.sink.event(t, this.value)\n}\n\nReduceSink.prototype.error = Pipe.prototype.error\n\nReduceSink.prototype.end = function (t) {\n  this.sink.end(t, this.value)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\n\n/**\n * Compute a stream by unfolding tuples of future values from a seed value\n * Event times may be controlled by returning a Promise from f\n * @param {function(seed:*):{value:*, seed:*, done:boolean}|Promise<{value:*, seed:*, done:boolean}>} f unfolding function accepts\n *  a seed and returns a new tuple with a value, new seed, and boolean done flag.\n *  If tuple.done is true, the stream will end.\n * @param {*} seed seed value\n * @returns {Stream} stream containing all value of all tuples produced by the\n *  unfolding function.\n */\nexport function unfold (f, seed) {\n  return new Stream(new UnfoldSource(f, seed))\n}\n\nfunction UnfoldSource (f, seed) {\n  this.f = f\n  this.value = seed\n}\n\nUnfoldSource.prototype.run = function (sink, scheduler) {\n  return new Unfold(this.f, this.value, sink, scheduler)\n}\n\nfunction Unfold (f, x, sink, scheduler) {\n  this.f = f\n  this.sink = sink\n  this.scheduler = scheduler\n  this.active = true\n\n  var self = this\n  function err (e) {\n    self.sink.error(self.scheduler.now(), e)\n  }\n\n  function start (unfold) {\n    return stepUnfold(unfold, x)\n  }\n\n  Promise.resolve(this).then(start).catch(err)\n}\n\nUnfold.prototype.dispose = function () {\n  this.active = false\n}\n\nfunction stepUnfold (unfold, x) {\n  var f = unfold.f\n  return Promise.resolve(f(x)).then(function (tuple) {\n    return continueUnfold(unfold, tuple)\n  })\n}\n\nfunction continueUnfold (unfold, tuple) {\n  if (tuple.done) {\n    unfold.sink.end(unfold.scheduler.now(), tuple.value)\n    return tuple.value\n  }\n\n  unfold.sink.event(unfold.scheduler.now(), tuple.value)\n\n  if (!unfold.active) {\n    return tuple.value\n  }\n  return stepUnfold(unfold, tuple.seed)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\n\n/**\n * Compute a stream by iteratively calling f to produce values\n * Event times may be controlled by returning a Promise from f\n * @param {function(x:*):*|Promise<*>} f\n * @param {*} x initial value\n * @returns {Stream}\n */\nexport function iterate (f, x) {\n  return new Stream(new IterateSource(f, x))\n}\n\nfunction IterateSource (f, x) {\n  this.f = f\n  this.value = x\n}\n\nIterateSource.prototype.run = function (sink, scheduler) {\n  return new Iterate(this.f, this.value, sink, scheduler)\n}\n\nfunction Iterate (f, initial, sink, scheduler) {\n  this.f = f\n  this.sink = sink\n  this.scheduler = scheduler\n  this.active = true\n\n  var x = initial\n\n  var self = this\n  function err (e) {\n    self.sink.error(self.scheduler.now(), e)\n  }\n\n  function start (iterate) {\n    return stepIterate(iterate, x)\n  }\n\n  Promise.resolve(this).then(start).catch(err)\n}\n\nIterate.prototype.dispose = function () {\n  this.active = false\n}\n\nfunction stepIterate (iterate, x) {\n  iterate.sink.event(iterate.scheduler.now(), x)\n\n  if (!iterate.active) {\n    return x\n  }\n\n  var f = iterate.f\n  return Promise.resolve(f(x)).then(function (y) {\n    return continueIterate(iterate, y)\n  })\n}\n\nfunction continueIterate (iterate, x) {\n  return !iterate.active ? iterate.value : stepIterate(iterate, x)\n}\n","/** @license MIT License (c) copyright 2010-2014 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport * as base from '@most/prelude'\n\n/**\n * Compute a stream using an *async* generator, which yields promises\n * to control event times.\n * @param f\n * @returns {Stream}\n */\nexport function generate (f /*, ...args */) {\n  return new Stream(new GenerateSource(f, base.tail(arguments)))\n}\n\nfunction GenerateSource (f, args) {\n  this.f = f\n  this.args = args\n}\n\nGenerateSource.prototype.run = function (sink, scheduler) {\n  return new Generate(this.f.apply(void 0, this.args), sink, scheduler)\n}\n\nfunction Generate (iterator, sink, scheduler) {\n  this.iterator = iterator\n  this.sink = sink\n  this.scheduler = scheduler\n  this.active = true\n\n  var self = this\n  function err (e) {\n    self.sink.error(self.scheduler.now(), e)\n  }\n\n  Promise.resolve(this).then(next).catch(err)\n}\n\nfunction next (generate, x) {\n  return generate.active ? handle(generate, generate.iterator.next(x)) : x\n}\n\nfunction handle (generate, result) {\n  if (result.done) {\n    return generate.sink.end(generate.scheduler.now(), result.value)\n  }\n\n  return Promise.resolve(result.value).then(function (x) {\n    return emit(generate, x)\n  }, function (e) {\n    return error(generate, e)\n  })\n}\n\nfunction emit (generate, x) {\n  generate.sink.event(generate.scheduler.now(), x)\n  return next(generate, x)\n}\n\nfunction error (generate, e) {\n  return handle(generate, generate.iterator.throw(e))\n}\n\nGenerate.prototype.dispose = function () {\n  this.active = false\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport Pipe from '../sink/Pipe'\nimport * as dispose from '../disposable/dispose'\n\nexport function continueWith (f, stream) {\n  return new Stream(new ContinueWith(f, stream.source))\n}\n\nfunction ContinueWith (f, source) {\n  this.f = f\n  this.source = source\n}\n\nContinueWith.prototype.run = function (sink, scheduler) {\n  return new ContinueWithSink(this.f, this.source, sink, scheduler)\n}\n\nfunction ContinueWithSink (f, source, sink, scheduler) {\n  this.f = f\n  this.sink = sink\n  this.scheduler = scheduler\n  this.active = true\n  this.disposable = dispose.once(source.run(this, scheduler))\n}\n\nContinueWithSink.prototype.error = Pipe.prototype.error\n\nContinueWithSink.prototype.event = function (t, x) {\n  if (!this.active) {\n    return\n  }\n  this.sink.event(t, x)\n}\n\nContinueWithSink.prototype.end = function (t, x) {\n  if (!this.active) {\n    return\n  }\n\n  dispose.tryDispose(t, this.disposable, this.sink)\n  this._startNext(t, x, this.sink)\n}\n\nContinueWithSink.prototype._startNext = function (t, x, sink) {\n  try {\n    this.disposable = this._continue(this.f, x, sink)\n  } catch (e) {\n    sink.error(t, e)\n  }\n}\n\nContinueWithSink.prototype._continue = function (f, x, sink) {\n  return f(x).source.run(sink, this.scheduler)\n}\n\nContinueWithSink.prototype.dispose = function () {\n  this.active = false\n  return this.disposable.dispose()\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport { of as streamOf } from '../source/core'\nimport { continueWith } from './continueWith'\n\n/**\n * @param {*} x value to prepend\n * @param {Stream} stream\n * @returns {Stream} new stream with x prepended\n */\nexport function cons (x, stream) {\n  return concat(streamOf(x), stream)\n}\n\n/**\n* @param {Stream} left\n* @param {Stream} right\n* @returns {Stream} new stream containing all events in left followed by all\n*  events in right.  This *timeshifts* right to the end of left.\n*/\nexport function concat (left, right) {\n  return continueWith(function () {\n    return right\n  }, left)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Sink from './Pipe'\n\nexport default function IndexSink (i, sink) {\n  this.sink = sink\n  this.index = i\n  this.active = true\n  this.value = void 0\n}\n\nIndexSink.prototype.event = function (t, x) {\n  if (!this.active) {\n    return\n  }\n  this.value = x\n  this.sink.event(t, this)\n}\n\nIndexSink.prototype.end = function (t, x) {\n  if (!this.active) {\n    return\n  }\n  this.active = false\n  this.sink.end(t, { index: this.index, value: x })\n}\n\nIndexSink.prototype.error = Sink.prototype.error\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nexport default function invoke (f, args) {\n\t/*eslint complexity: [2,7]*/\n  switch (args.length) {\n    case 0: return f()\n    case 1: return f(args[0])\n    case 2: return f(args[0], args[1])\n    case 3: return f(args[0], args[1], args[2])\n    case 4: return f(args[0], args[1], args[2], args[3])\n    case 5: return f(args[0], args[1], args[2], args[3], args[4])\n    default:\n      return f.apply(void 0, args)\n  }\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport * as transform from './transform'\nimport * as core from '../source/core'\nimport Pipe from '../sink/Pipe'\nimport IndexSink from '../sink/IndexSink'\nimport * as dispose from '../disposable/dispose'\nimport * as base from '@most/prelude'\nimport invoke from '../invoke'\n\nvar map = base.map\nvar tail = base.tail\n\n/**\n * Combine latest events from all input streams\n * @param {function(...events):*} f function to combine most recent events\n * @returns {Stream} stream containing the result of applying f to the most recent\n *  event of each input stream, whenever a new event arrives on any stream.\n */\nexport function combine (f /*, ...streams */) {\n  return combineArray(f, tail(arguments))\n}\n\n/**\n* Combine latest events from all input streams\n* @param {function(...events):*} f function to combine most recent events\n* @param {[Stream]} streams most recent events\n* @returns {Stream} stream containing the result of applying f to the most recent\n*  event of each input stream, whenever a new event arrives on any stream.\n*/\nexport function combineArray (f, streams) {\n  var l = streams.length\n  return l === 0 ? core.empty()\n  : l === 1 ? transform.map(f, streams[0])\n  : new Stream(combineSources(f, streams))\n}\n\nfunction combineSources (f, streams) {\n  return new Combine(f, map(getSource, streams))\n}\n\nfunction getSource (stream) {\n  return stream.source\n}\n\nfunction Combine (f, sources) {\n  this.f = f\n  this.sources = sources\n}\n\nCombine.prototype.run = function (sink, scheduler) {\n  var l = this.sources.length\n  var disposables = new Array(l)\n  var sinks = new Array(l)\n\n  var mergeSink = new CombineSink(disposables, sinks, sink, this.f)\n\n  for (var indexSink, i = 0; i < l; ++i) {\n    indexSink = sinks[i] = new IndexSink(i, mergeSink)\n    disposables[i] = this.sources[i].run(indexSink, scheduler)\n  }\n\n  return dispose.all(disposables)\n}\n\nfunction CombineSink (disposables, sinks, sink, f) {\n  this.sink = sink\n  this.disposables = disposables\n  this.sinks = sinks\n  this.f = f\n\n  var l = sinks.length\n  this.awaiting = l\n  this.values = new Array(l)\n  this.hasValue = new Array(l)\n  for (var i = 0; i < l; ++i) {\n    this.hasValue[i] = false\n  }\n\n  this.activeCount = sinks.length\n}\n\nCombineSink.prototype.error = Pipe.prototype.error\n\nCombineSink.prototype.event = function (t, indexedValue) {\n  var i = indexedValue.index\n  var awaiting = this._updateReady(i)\n\n  this.values[i] = indexedValue.value\n  if (awaiting === 0) {\n    this.sink.event(t, invoke(this.f, this.values))\n  }\n}\n\nCombineSink.prototype._updateReady = function (index) {\n  if (this.awaiting > 0) {\n    if (!this.hasValue[index]) {\n      this.hasValue[index] = true\n      this.awaiting -= 1\n    }\n  }\n  return this.awaiting\n}\n\nCombineSink.prototype.end = function (t, indexedValue) {\n  dispose.tryDispose(t, this.disposables[indexedValue.index], this.sink)\n  if (--this.activeCount === 0) {\n    this.sink.end(t, indexedValue.value)\n  }\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport { combine } from './combine'\nimport { apply } from '@most/prelude'\n\n/**\n * Assume fs is a stream containing functions, and apply the latest function\n * in fs to the latest value in xs.\n * fs:         --f---------g--------h------>\n * xs:         -a-------b-------c-------d-->\n * ap(fs, xs): --fa-----fb-gb---gc--hc--hd->\n * @param {Stream} fs stream of functions to apply to the latest x\n * @param {Stream} xs stream of values to which to apply all the latest f\n * @returns {Stream} stream containing all the applications of fs to xs\n */\nexport function ap (fs, xs) {\n  return combine(apply, fs, xs)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\n\n/**\n * Transform a stream by passing its events through a transducer.\n * @param  {function} transducer transducer function\n * @param  {Stream} stream stream whose events will be passed through the\n *  transducer\n * @return {Stream} stream of events transformed by the transducer\n */\nexport function transduce (transducer, stream) {\n  return new Stream(new Transduce(transducer, stream.source))\n}\n\nfunction Transduce (transducer, source) {\n  this.transducer = transducer\n  this.source = source\n}\n\nTransduce.prototype.run = function (sink, scheduler) {\n  var xf = this.transducer(new Transformer(sink))\n  return this.source.run(new TransduceSink(getTxHandler(xf), sink), scheduler)\n}\n\nfunction TransduceSink (adapter, sink) {\n  this.xf = adapter\n  this.sink = sink\n}\n\nTransduceSink.prototype.event = function (t, x) {\n  var next = this.xf.step(t, x)\n\n  return this.xf.isReduced(next)\n    ? this.sink.end(t, this.xf.getResult(next))\n    : next\n}\n\nTransduceSink.prototype.end = function (t, x) {\n  return this.xf.result(x)\n}\n\nTransduceSink.prototype.error = function (t, e) {\n  return this.sink.error(t, e)\n}\n\nfunction Transformer (sink) {\n  this.time = -Infinity\n  this.sink = sink\n}\n\nTransformer.prototype['@@transducer/init'] = Transformer.prototype.init = function () {}\n\nTransformer.prototype['@@transducer/step'] = Transformer.prototype.step = function (t, x) {\n  if (!isNaN(t)) {\n    this.time = Math.max(t, this.time)\n  }\n  return this.sink.event(this.time, x)\n}\n\nTransformer.prototype['@@transducer/result'] = Transformer.prototype.result = function (x) {\n  return this.sink.end(this.time, x)\n}\n\n/**\n* Given an object supporting the new or legacy transducer protocol,\n* create an adapter for it.\n* @param {object} tx transform\n* @returns {TxAdapter|LegacyTxAdapter}\n*/\nfunction getTxHandler (tx) {\n  return typeof tx['@@transducer/step'] === 'function'\n    ? new TxAdapter(tx)\n    : new LegacyTxAdapter(tx)\n}\n\n/**\n* Adapter for new official transducer protocol\n* @param {object} tx transform\n* @constructor\n*/\nfunction TxAdapter (tx) {\n  this.tx = tx\n}\n\nTxAdapter.prototype.step = function (t, x) {\n  return this.tx['@@transducer/step'](t, x)\n}\nTxAdapter.prototype.result = function (x) {\n  return this.tx['@@transducer/result'](x)\n}\nTxAdapter.prototype.isReduced = function (x) {\n  return x != null && x['@@transducer/reduced']\n}\nTxAdapter.prototype.getResult = function (x) {\n  return x['@@transducer/value']\n}\n\n/**\n* Adapter for older transducer protocol\n* @param {object} tx transform\n* @constructor\n*/\nfunction LegacyTxAdapter (tx) {\n  this.tx = tx\n}\n\nLegacyTxAdapter.prototype.step = function (t, x) {\n  return this.tx.step(t, x)\n}\nLegacyTxAdapter.prototype.result = function (x) {\n  return this.tx.result(x)\n}\nLegacyTxAdapter.prototype.isReduced = function (x) {\n  return x != null && x.__transducers_reduced__\n}\nLegacyTxAdapter.prototype.getResult = function (x) {\n  return x.value\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Doubly linked list\n * @constructor\n */\nexport default function LinkedList () {\n  this.head = null\n  this.length = 0\n}\n\n/**\n * Add a node to the end of the list\n * @param {{prev:Object|null, next:Object|null, dispose:function}} x node to add\n */\nLinkedList.prototype.add = function (x) {\n  if (this.head !== null) {\n    this.head.prev = x\n    x.next = this.head\n  }\n  this.head = x\n  ++this.length\n}\n\n/**\n * Remove the provided node from the list\n * @param {{prev:Object|null, next:Object|null, dispose:function}} x node to remove\n */\nLinkedList.prototype.remove = function (x) { // eslint-disable-line  complexity\n  --this.length\n  if (x === this.head) {\n    this.head = this.head.next\n  }\n  if (x.next !== null) {\n    x.next.prev = x.prev\n    x.next = null\n  }\n  if (x.prev !== null) {\n    x.prev.next = x.next\n    x.prev = null\n  }\n}\n\n/**\n * @returns {boolean} true iff there are no nodes in the list\n */\nLinkedList.prototype.isEmpty = function () {\n  return this.length === 0\n}\n\n/**\n * Dispose all nodes\n * @returns {Promise} promise that fulfills when all nodes have been disposed,\n *  or rejects if an error occurs while disposing\n */\nLinkedList.prototype.dispose = function () {\n  if (this.isEmpty()) {\n    return Promise.resolve()\n  }\n\n  var promises = []\n  var x = this.head\n  this.head = null\n  this.length = 0\n\n  while (x !== null) {\n    promises.push(x.dispose())\n    x = x.next\n  }\n\n  return Promise.all(promises)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport * as dispose from '../disposable/dispose'\nimport LinkedList from '../LinkedList'\nimport { id as identity } from '@most/prelude'\n\nexport function mergeConcurrently (concurrency, stream) {\n  return mergeMapConcurrently(identity, concurrency, stream)\n}\n\nexport function mergeMapConcurrently (f, concurrency, stream) {\n  return new Stream(new MergeConcurrently(f, concurrency, stream.source))\n}\n\nfunction MergeConcurrently (f, concurrency, source) {\n  this.f = f\n  this.concurrency = concurrency\n  this.source = source\n}\n\nMergeConcurrently.prototype.run = function (sink, scheduler) {\n  return new Outer(this.f, this.concurrency, this.source, sink, scheduler)\n}\n\nfunction Outer (f, concurrency, source, sink, scheduler) {\n  this.f = f\n  this.concurrency = concurrency\n  this.sink = sink\n  this.scheduler = scheduler\n  this.pending = []\n  this.current = new LinkedList()\n  this.disposable = dispose.once(source.run(this, scheduler))\n  this.active = true\n}\n\nOuter.prototype.event = function (t, x) {\n  this._addInner(t, x)\n}\n\nOuter.prototype._addInner = function (t, x) {\n  if (this.current.length < this.concurrency) {\n    this._startInner(t, x)\n  } else {\n    this.pending.push(x)\n  }\n}\n\nOuter.prototype._startInner = function (t, x) {\n  try {\n    this._initInner(t, x)\n  } catch (e) {\n    this.error(t, e)\n  }\n}\n\nOuter.prototype._initInner = function (t, x) {\n  var innerSink = new Inner(t, this, this.sink)\n  innerSink.disposable = mapAndRun(this.f, x, innerSink, this.scheduler)\n  this.current.add(innerSink)\n}\n\nfunction mapAndRun (f, x, sink, scheduler) {\n  return f(x).source.run(sink, scheduler)\n}\n\nOuter.prototype.end = function (t, x) {\n  this.active = false\n  dispose.tryDispose(t, this.disposable, this.sink)\n  this._checkEnd(t, x)\n}\n\nOuter.prototype.error = function (t, e) {\n  this.active = false\n  this.sink.error(t, e)\n}\n\nOuter.prototype.dispose = function () {\n  this.active = false\n  this.pending.length = 0\n  return Promise.all([this.disposable.dispose(), this.current.dispose()])\n}\n\nOuter.prototype._endInner = function (t, x, inner) {\n  this.current.remove(inner)\n  dispose.tryDispose(t, inner, this)\n\n  if (this.pending.length === 0) {\n    this._checkEnd(t, x)\n  } else {\n    this._startInner(t, this.pending.shift())\n  }\n}\n\nOuter.prototype._checkEnd = function (t, x) {\n  if (!this.active && this.current.isEmpty()) {\n    this.sink.end(t, x)\n  }\n}\n\nfunction Inner (time, outer, sink) {\n  this.prev = this.next = null\n  this.time = time\n  this.outer = outer\n  this.sink = sink\n  this.disposable = void 0\n}\n\nInner.prototype.event = function (t, x) {\n  this.sink.event(Math.max(t, this.time), x)\n}\n\nInner.prototype.end = function (t, x) {\n  this.outer._endInner(Math.max(t, this.time), x, this)\n}\n\nInner.prototype.error = function (t, e) {\n  this.outer.error(Math.max(t, this.time), e)\n}\n\nInner.prototype.dispose = function () {\n  return this.disposable.dispose()\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport { mergeConcurrently, mergeMapConcurrently } from './mergeConcurrently'\n\n/**\n * Map each value in the stream to a new stream, and merge it into the\n * returned outer stream. Event arrival times are preserved.\n * @param {function(x:*):Stream} f chaining function, must return a Stream\n * @param {Stream} stream\n * @returns {Stream} new stream containing all events from each stream returned by f\n */\nexport function flatMap (f, stream) {\n  return mergeMapConcurrently(f, Infinity, stream)\n}\n\n/**\n * Monadic join. Flatten a Stream<Stream<X>> to Stream<X> by merging inner\n * streams to the outer. Event arrival times are preserved.\n * @param {Stream<Stream<X>>} stream stream of streams\n * @returns {Stream<X>} new stream containing all events of all inner streams\n */\nexport function join (stream) {\n  return mergeConcurrently(Infinity, stream)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport { mergeMapConcurrently } from './mergeConcurrently'\n\n/**\n * Map each value in stream to a new stream, and concatenate them all\n * stream:              -a---b---cX\n * f(a):                 1-1-1-1X\n * f(b):                        -2-2-2-2X\n * f(c):                                -3-3-3-3X\n * stream.concatMap(f): -1-1-1-1-2-2-2-2-3-3-3-3X\n * @param {function(x:*):Stream} f function to map each value to a stream\n * @param {Stream} stream\n * @returns {Stream} new stream containing all events from each stream returned by f\n */\nexport function concatMap (f, stream) {\n  return mergeMapConcurrently(f, 1, stream)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport Pipe from '../sink/Pipe'\nimport IndexSink from '../sink/IndexSink'\nimport { empty } from '../source/core'\nimport * as dispose from '../disposable/dispose'\nimport * as base from '@most/prelude'\n\nvar copy = base.copy\nvar reduce = base.reduce\n\n/**\n * @returns {Stream} stream containing events from all streams in the argument\n * list in time order.  If two events are simultaneous they will be merged in\n * arbitrary order.\n */\nexport function merge (/* ...streams*/) {\n  return mergeArray(copy(arguments))\n}\n\n/**\n * @param {Array} streams array of stream to merge\n * @returns {Stream} stream containing events from all input observables\n * in time order.  If two events are simultaneous they will be merged in\n * arbitrary order.\n */\nexport function mergeArray (streams) {\n  var l = streams.length\n  return l === 0 ? empty()\n    : l === 1 ? streams[0]\n    : new Stream(mergeSources(streams))\n}\n\n/**\n * This implements fusion/flattening for merge.  It will\n * fuse adjacent merge operations.  For example:\n * - a.merge(b).merge(c) effectively becomes merge(a, b, c)\n * - merge(a, merge(b, c)) effectively becomes merge(a, b, c)\n * It does this by concatenating the sources arrays of\n * any nested Merge sources, in effect \"flattening\" nested\n * merge operations into a single merge.\n */\nfunction mergeSources (streams) {\n  return new Merge(reduce(appendSources, [], streams))\n}\n\nfunction appendSources (sources, stream) {\n  var source = stream.source\n  return source instanceof Merge\n    ? sources.concat(source.sources)\n    : sources.concat(source)\n}\n\nfunction Merge (sources) {\n  this.sources = sources\n}\n\nMerge.prototype.run = function (sink, scheduler) {\n  var l = this.sources.length\n  var disposables = new Array(l)\n  var sinks = new Array(l)\n\n  var mergeSink = new MergeSink(disposables, sinks, sink)\n\n  for (var indexSink, i = 0; i < l; ++i) {\n    indexSink = sinks[i] = new IndexSink(i, mergeSink)\n    disposables[i] = this.sources[i].run(indexSink, scheduler)\n  }\n\n  return dispose.all(disposables)\n}\n\nfunction MergeSink (disposables, sinks, sink) {\n  this.sink = sink\n  this.disposables = disposables\n  this.activeCount = sinks.length\n}\n\nMergeSink.prototype.error = Pipe.prototype.error\n\nMergeSink.prototype.event = function (t, indexValue) {\n  this.sink.event(t, indexValue.value)\n}\n\nMergeSink.prototype.end = function (t, indexedValue) {\n  dispose.tryDispose(t, this.disposables[indexedValue.index], this.sink)\n  if (--this.activeCount === 0) {\n    this.sink.end(t, indexedValue.value)\n  }\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport Pipe from '../sink/Pipe'\nimport * as dispose from '../disposable/dispose'\nimport * as base from '@most/prelude'\nimport invoke from '../invoke'\n\n/**\n * When an event arrives on sampler, emit the result of calling f with the latest\n * values of all streams being sampled\n * @param {function(...values):*} f function to apply to each set of sampled values\n * @param {Stream} sampler streams will be sampled whenever an event arrives\n *  on sampler\n * @returns {Stream} stream of sampled and transformed values\n */\nexport function sample (f, sampler /*, ...streams */) {\n  return sampleArray(f, sampler, base.drop(2, arguments))\n}\n\n/**\n * When an event arrives on sampler, emit the latest event value from stream.\n * @param {Stream} sampler stream of events at whose arrival time\n *  stream's latest value will be propagated\n * @param {Stream} stream stream of values\n * @returns {Stream} sampled stream of values\n */\nexport function sampleWith (sampler, stream) {\n  return new Stream(new Sampler(base.id, sampler.source, [stream.source]))\n}\n\nexport function sampleArray (f, sampler, streams) {\n  return new Stream(new Sampler(f, sampler.source, base.map(getSource, streams)))\n}\n\nfunction getSource (stream) {\n  return stream.source\n}\n\nfunction Sampler (f, sampler, sources) {\n  this.f = f\n  this.sampler = sampler\n  this.sources = sources\n}\n\nSampler.prototype.run = function (sink, scheduler) {\n  var l = this.sources.length\n  var disposables = new Array(l + 1)\n  var sinks = new Array(l)\n\n  var sampleSink = new SampleSink(this.f, sinks, sink)\n\n  for (var hold, i = 0; i < l; ++i) {\n    hold = sinks[i] = new Hold(sampleSink)\n    disposables[i] = this.sources[i].run(hold, scheduler)\n  }\n\n  disposables[i] = this.sampler.run(sampleSink, scheduler)\n\n  return dispose.all(disposables)\n}\n\nfunction Hold (sink) {\n  this.sink = sink\n  this.hasValue = false\n}\n\nHold.prototype.event = function (t, x) {\n  this.value = x\n  this.hasValue = true\n  this.sink._notify(this)\n}\n\nHold.prototype.end = function () {}\nHold.prototype.error = Pipe.prototype.error\n\nfunction SampleSink (f, sinks, sink) {\n  this.f = f\n  this.sinks = sinks\n  this.sink = sink\n  this.active = false\n}\n\nSampleSink.prototype._notify = function () {\n  if (!this.active) {\n    this.active = this.sinks.every(hasValue)\n  }\n}\n\nSampleSink.prototype.event = function (t) {\n  if (this.active) {\n    this.sink.event(t, invoke(this.f, base.map(getValue, this.sinks)))\n  }\n}\n\nSampleSink.prototype.end = Pipe.prototype.end\nSampleSink.prototype.error = Pipe.prototype.error\n\nfunction hasValue (hold) {\n  return hold.hasValue\n}\n\nfunction getValue (hold) {\n  return hold.value\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n// Based on https://github.com/petkaantonov/deque\n\nexport default function Queue (capPow2) {\n  this._capacity = capPow2 || 32\n  this._length = 0\n  this._head = 0\n}\n\nQueue.prototype.push = function (x) {\n  var len = this._length\n  this._checkCapacity(len + 1)\n\n  var i = (this._head + len) & (this._capacity - 1)\n  this[i] = x\n  this._length = len + 1\n}\n\nQueue.prototype.shift = function () {\n  var head = this._head\n  var x = this[head]\n\n  this[head] = void 0\n  this._head = (head + 1) & (this._capacity - 1)\n  this._length--\n  return x\n}\n\nQueue.prototype.isEmpty = function () {\n  return this._length === 0\n}\n\nQueue.prototype.length = function () {\n  return this._length\n}\n\nQueue.prototype._checkCapacity = function (size) {\n  if (this._capacity < size) {\n    this._ensureCapacity(this._capacity << 1)\n  }\n}\n\nQueue.prototype._ensureCapacity = function (capacity) {\n  var oldCapacity = this._capacity\n  this._capacity = capacity\n\n  var last = this._head + this._length\n\n  if (last > oldCapacity) {\n    copy(this, 0, this, oldCapacity, last & (oldCapacity - 1))\n  }\n}\n\nfunction copy (src, srcIndex, dst, dstIndex, len) {\n  for (var j = 0; j < len; ++j) {\n    dst[j + dstIndex] = src[j + srcIndex]\n    src[j + srcIndex] = void 0\n  }\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport * as transform from './transform'\nimport * as core from '../source/core'\nimport Pipe from '../sink/Pipe'\nimport IndexSink from '../sink/IndexSink'\nimport * as dispose from '../disposable/dispose'\nimport * as base from '@most/prelude'\nimport invoke from '../invoke'\nimport Queue from '../Queue'\n\nvar map = base.map\nvar tail = base.tail\n\n/**\n * Combine streams pairwise (or tuple-wise) by index by applying f to values\n * at corresponding indices.  The returned stream ends when any of the input\n * streams ends.\n * @param {function} f function to combine values\n * @returns {Stream} new stream with items at corresponding indices combined\n *  using f\n */\nexport function zip (f /*, ...streams */) {\n  return zipArray(f, tail(arguments))\n}\n\n/**\n* Combine streams pairwise (or tuple-wise) by index by applying f to values\n* at corresponding indices.  The returned stream ends when any of the input\n* streams ends.\n* @param {function} f function to combine values\n* @param {[Stream]} streams streams to zip using f\n* @returns {Stream} new stream with items at corresponding indices combined\n*  using f\n*/\nexport function zipArray (f, streams) {\n  return streams.length === 0 ? core.empty()\n: streams.length === 1 ? transform.map(f, streams[0])\n: new Stream(new Zip(f, map(getSource, streams)))\n}\n\nfunction getSource (stream) {\n  return stream.source\n}\n\nfunction Zip (f, sources) {\n  this.f = f\n  this.sources = sources\n}\n\nZip.prototype.run = function (sink, scheduler) {\n  var l = this.sources.length\n  var disposables = new Array(l)\n  var sinks = new Array(l)\n  var buffers = new Array(l)\n\n  var zipSink = new ZipSink(this.f, buffers, sinks, sink)\n\n  for (var indexSink, i = 0; i < l; ++i) {\n    buffers[i] = new Queue()\n    indexSink = sinks[i] = new IndexSink(i, zipSink)\n    disposables[i] = this.sources[i].run(indexSink, scheduler)\n  }\n\n  return dispose.all(disposables)\n}\n\nfunction ZipSink (f, buffers, sinks, sink) {\n  this.f = f\n  this.sinks = sinks\n  this.sink = sink\n  this.buffers = buffers\n}\n\nZipSink.prototype.event = function (t, indexedValue) { // eslint-disable-line complexity\n  var buffers = this.buffers\n  var buffer = buffers[indexedValue.index]\n\n  buffer.push(indexedValue.value)\n\n  if (buffer.length() === 1) {\n    if (!ready(this.buffers)) {\n      return\n    }\n\n    emitZipped(this.f, t, buffers, this.sink)\n\n    if (ended(this.buffers, this.sinks)) {\n      this.sink.end(t, void 0)\n    }\n  }\n}\n\nZipSink.prototype.end = function (t, indexedValue) {\n  var buffer = this.buffers[indexedValue.index]\n  if (buffer.isEmpty()) {\n    this.sink.end(t, indexedValue.value)\n  }\n}\n\nZipSink.prototype.error = Pipe.prototype.error\n\nfunction emitZipped (f, t, buffers, sink) {\n  sink.event(t, invoke(f, map(head, buffers)))\n}\n\nfunction head (buffer) {\n  return buffer.shift()\n}\n\nfunction ended (buffers, sinks) {\n  for (var i = 0, l = buffers.length; i < l; ++i) {\n    if (buffers[i].isEmpty() && !sinks[i].active) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction ready (buffers) {\n  for (var i = 0, l = buffers.length; i < l; ++i) {\n    if (buffers[i].isEmpty()) {\n      return false\n    }\n  }\n  return true\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport * as dispose from '../disposable/dispose'\n\n/**\n * Given a stream of streams, return a new stream that adopts the behavior\n * of the most recent inner stream.\n * @param {Stream} stream of streams on which to switch\n * @returns {Stream} switching stream\n */\nexport function switchLatest (stream) {\n  return new Stream(new Switch(stream.source))\n}\n\nexport { switchLatest as switch }\n\nfunction Switch (source) {\n  this.source = source\n}\n\nSwitch.prototype.run = function (sink, scheduler) {\n  var switchSink = new SwitchSink(sink, scheduler)\n  return dispose.all([switchSink, this.source.run(switchSink, scheduler)])\n}\n\nfunction SwitchSink (sink, scheduler) {\n  this.sink = sink\n  this.scheduler = scheduler\n  this.current = null\n  this.ended = false\n}\n\nSwitchSink.prototype.event = function (t, stream) {\n  this._disposeCurrent(t) // TODO: capture the result of this dispose\n  this.current = new Segment(t, Infinity, this, this.sink)\n  this.current.disposable = stream.source.run(this.current, this.scheduler)\n}\n\nSwitchSink.prototype.end = function (t, x) {\n  this.ended = true\n  this._checkEnd(t, x)\n}\n\nSwitchSink.prototype.error = function (t, e) {\n  this.ended = true\n  this.sink.error(t, e)\n}\n\nSwitchSink.prototype.dispose = function () {\n  return this._disposeCurrent(this.scheduler.now())\n}\n\nSwitchSink.prototype._disposeCurrent = function (t) {\n  if (this.current !== null) {\n    return this.current._dispose(t)\n  }\n}\n\nSwitchSink.prototype._disposeInner = function (t, inner) {\n  inner._dispose(t) // TODO: capture the result of this dispose\n  if (inner === this.current) {\n    this.current = null\n  }\n}\n\nSwitchSink.prototype._checkEnd = function (t, x) {\n  if (this.ended && this.current === null) {\n    this.sink.end(t, x)\n  }\n}\n\nSwitchSink.prototype._endInner = function (t, x, inner) {\n  this._disposeInner(t, inner)\n  this._checkEnd(t, x)\n}\n\nSwitchSink.prototype._errorInner = function (t, e, inner) {\n  this._disposeInner(t, inner)\n  this.sink.error(t, e)\n}\n\nfunction Segment (min, max, outer, sink) {\n  this.min = min\n  this.max = max\n  this.outer = outer\n  this.sink = sink\n  this.disposable = dispose.empty()\n}\n\nSegment.prototype.event = function (t, x) {\n  if (t < this.max) {\n    this.sink.event(Math.max(t, this.min), x)\n  }\n}\n\nSegment.prototype.end = function (t, x) {\n  this.outer._endInner(Math.max(t, this.min), x, this)\n}\n\nSegment.prototype.error = function (t, e) {\n  this.outer._errorInner(Math.max(t, this.min), e, this)\n}\n\nSegment.prototype._dispose = function (t) {\n  this.max = t\n  dispose.tryDispose(t, this.disposable, this.sink)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport Pipe from '../sink/Pipe'\nimport Filter from '../fusion/Filter'\n\n/**\n * Retain only items matching a predicate\n * @param {function(x:*):boolean} p filtering predicate called for each item\n * @param {Stream} stream stream to filter\n * @returns {Stream} stream containing only items for which predicate returns truthy\n */\nexport function filter (p, stream) {\n  return new Stream(Filter.create(p, stream.source))\n}\n\n/**\n * Skip repeated events, using === to detect duplicates\n * @param {Stream} stream stream from which to omit repeated events\n * @returns {Stream} stream without repeated events\n */\nexport function skipRepeats (stream) {\n  return skipRepeatsWith(same, stream)\n}\n\n/**\n * Skip repeated events using the provided equals function to detect duplicates\n * @param {function(a:*, b:*):boolean} equals optional function to compare items\n * @param {Stream} stream stream from which to omit repeated events\n * @returns {Stream} stream without repeated events\n */\nexport function skipRepeatsWith (equals, stream) {\n  return new Stream(new SkipRepeats(equals, stream.source))\n}\n\nfunction SkipRepeats (equals, source) {\n  this.equals = equals\n  this.source = source\n}\n\nSkipRepeats.prototype.run = function (sink, scheduler) {\n  return this.source.run(new SkipRepeatsSink(this.equals, sink), scheduler)\n}\n\nfunction SkipRepeatsSink (equals, sink) {\n  this.equals = equals\n  this.sink = sink\n  this.value = void 0\n  this.init = true\n}\n\nSkipRepeatsSink.prototype.end = Pipe.prototype.end\nSkipRepeatsSink.prototype.error = Pipe.prototype.error\n\nSkipRepeatsSink.prototype.event = function (t, x) {\n  if (this.init) {\n    this.init = false\n    this.value = x\n    this.sink.event(t, x)\n  } else if (!this.equals(this.value, x)) {\n    this.value = x\n    this.sink.event(t, x)\n  }\n}\n\nfunction same (a, b) {\n  return a === b\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport Pipe from '../sink/Pipe'\nimport * as core from '../source/core'\nimport * as dispose from '../disposable/dispose'\nimport Map from '../fusion/Map'\n\n/**\n * @param {number} n\n * @param {Stream} stream\n * @returns {Stream} new stream containing only up to the first n items from stream\n */\nexport function take (n, stream) {\n  return slice(0, n, stream)\n}\n\n/**\n * @param {number} n\n * @param {Stream} stream\n * @returns {Stream} new stream with the first n items removed\n */\nexport function skip (n, stream) {\n  return slice(n, Infinity, stream)\n}\n\n/**\n * Slice a stream by index. Negative start/end indexes are not supported\n * @param {number} start\n * @param {number} end\n * @param {Stream} stream\n * @returns {Stream} stream containing items where start <= index < end\n */\nexport function slice (start, end, stream) {\n  return end <= start ? core.empty()\n    : new Stream(sliceSource(start, end, stream.source))\n}\n\nfunction sliceSource (start, end, source) {\n  return source instanceof Map ? commuteMapSlice(start, end, source)\n    : source instanceof Slice ? fuseSlice(start, end, source)\n    : new Slice(start, end, source)\n}\n\nfunction commuteMapSlice (start, end, source) {\n  return Map.create(source.f, sliceSource(start, end, source.source))\n}\n\nfunction fuseSlice (start, end, source) {\n  start += source.min\n  end = Math.min(end + source.min, source.max)\n  return new Slice(start, end, source.source)\n}\n\nfunction Slice (min, max, source) {\n  this.source = source\n  this.min = min\n  this.max = max\n}\n\nSlice.prototype.run = function (sink, scheduler) {\n  return new SliceSink(this.min, this.max - this.min, this.source, sink, scheduler)\n}\n\nfunction SliceSink (skip, take, source, sink, scheduler) {\n  this.sink = sink\n  this.skip = skip\n  this.take = take\n  this.disposable = dispose.once(source.run(this, scheduler))\n}\n\nSliceSink.prototype.end = Pipe.prototype.end\nSliceSink.prototype.error = Pipe.prototype.error\n\nSliceSink.prototype.event = function (t, x) { // eslint-disable-line complexity\n  if (this.skip > 0) {\n    this.skip -= 1\n    return\n  }\n\n  if (this.take === 0) {\n    return\n  }\n\n  this.take -= 1\n  this.sink.event(t, x)\n  if (this.take === 0) {\n    this.dispose()\n    this.sink.end(t, x)\n  }\n}\n\nSliceSink.prototype.dispose = function () {\n  return this.disposable.dispose()\n}\n\nexport function takeWhile (p, stream) {\n  return new Stream(new TakeWhile(p, stream.source))\n}\n\nfunction TakeWhile (p, source) {\n  this.p = p\n  this.source = source\n}\n\nTakeWhile.prototype.run = function (sink, scheduler) {\n  return new TakeWhileSink(this.p, this.source, sink, scheduler)\n}\n\nfunction TakeWhileSink (p, source, sink, scheduler) {\n  this.p = p\n  this.sink = sink\n  this.active = true\n  this.disposable = dispose.once(source.run(this, scheduler))\n}\n\nTakeWhileSink.prototype.end = Pipe.prototype.end\nTakeWhileSink.prototype.error = Pipe.prototype.error\n\nTakeWhileSink.prototype.event = function (t, x) {\n  if (!this.active) {\n    return\n  }\n\n  var p = this.p\n  this.active = p(x)\n  if (this.active) {\n    this.sink.event(t, x)\n  } else {\n    this.dispose()\n    this.sink.end(t, x)\n  }\n}\n\nTakeWhileSink.prototype.dispose = function () {\n  return this.disposable.dispose()\n}\n\nexport function skipWhile (p, stream) {\n  return new Stream(new SkipWhile(p, stream.source))\n}\n\nfunction SkipWhile (p, source) {\n  this.p = p\n  this.source = source\n}\n\nSkipWhile.prototype.run = function (sink, scheduler) {\n  return this.source.run(new SkipWhileSink(this.p, sink), scheduler)\n}\n\nfunction SkipWhileSink (p, sink) {\n  this.p = p\n  this.sink = sink\n  this.skipping = true\n}\n\nSkipWhileSink.prototype.end = Pipe.prototype.end\nSkipWhileSink.prototype.error = Pipe.prototype.error\n\nSkipWhileSink.prototype.event = function (t, x) {\n  if (this.skipping) {\n    var p = this.p\n    this.skipping = p(x)\n    if (this.skipping) {\n      return\n    }\n  }\n\n  this.sink.event(t, x)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport Pipe from '../sink/Pipe'\nimport * as dispose from '../disposable/dispose'\nimport { join } from '../combinator/flatMap'\n\nexport function takeUntil (signal, stream) {\n  return new Stream(new Until(signal.source, stream.source))\n}\n\nexport function skipUntil (signal, stream) {\n  return new Stream(new Since(signal.source, stream.source))\n}\n\nexport function during (timeWindow, stream) {\n  return takeUntil(join(timeWindow), skipUntil(timeWindow, stream))\n}\n\nfunction Until (maxSignal, source) {\n  this.maxSignal = maxSignal\n  this.source = source\n}\n\nUntil.prototype.run = function (sink, scheduler) {\n  var min = new Bound(-Infinity, sink)\n  var max = new UpperBound(this.maxSignal, sink, scheduler)\n  var disposable = this.source.run(new TimeWindowSink(min, max, sink), scheduler)\n\n  return dispose.all([min, max, disposable])\n}\n\nfunction Since (minSignal, source) {\n  this.minSignal = minSignal\n  this.source = source\n}\n\nSince.prototype.run = function (sink, scheduler) {\n  var min = new LowerBound(this.minSignal, sink, scheduler)\n  var max = new Bound(Infinity, sink)\n  var disposable = this.source.run(new TimeWindowSink(min, max, sink), scheduler)\n\n  return dispose.all([min, max, disposable])\n}\n\nfunction Bound (value, sink) {\n  this.value = value\n  this.sink = sink\n}\n\nBound.prototype.error = Pipe.prototype.error\nBound.prototype.event = noop\nBound.prototype.end = noop\nBound.prototype.dispose = noop\n\nfunction TimeWindowSink (min, max, sink) {\n  this.min = min\n  this.max = max\n  this.sink = sink\n}\n\nTimeWindowSink.prototype.event = function (t, x) {\n  if (t >= this.min.value && t < this.max.value) {\n    this.sink.event(t, x)\n  }\n}\n\nTimeWindowSink.prototype.error = Pipe.prototype.error\nTimeWindowSink.prototype.end = Pipe.prototype.end\n\nfunction LowerBound (signal, sink, scheduler) {\n  this.value = Infinity\n  this.sink = sink\n  this.disposable = signal.run(this, scheduler)\n}\n\nLowerBound.prototype.event = function (t /*, x */) {\n  if (t < this.value) {\n    this.value = t\n  }\n}\n\nLowerBound.prototype.end = noop\nLowerBound.prototype.error = Pipe.prototype.error\n\nLowerBound.prototype.dispose = function () {\n  return this.disposable.dispose()\n}\n\nfunction UpperBound (signal, sink, scheduler) {\n  this.value = Infinity\n  this.sink = sink\n  this.disposable = signal.run(this, scheduler)\n}\n\nUpperBound.prototype.event = function (t, x) {\n  if (t < this.value) {\n    this.value = t\n    this.sink.end(t, x)\n  }\n}\n\nUpperBound.prototype.end = noop\nUpperBound.prototype.error = Pipe.prototype.error\n\nUpperBound.prototype.dispose = function () {\n  return this.disposable.dispose()\n}\n\nfunction noop () {}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport Pipe from '../sink/Pipe'\nimport * as dispose from '../disposable/dispose'\nimport PropagateTask from '../scheduler/PropagateTask'\n\n/**\n * @param {Number} delayTime milliseconds to delay each item\n * @param {Stream} stream\n * @returns {Stream} new stream containing the same items, but delayed by ms\n */\nexport function delay (delayTime, stream) {\n  return delayTime <= 0 ? stream\n    : new Stream(new Delay(delayTime, stream.source))\n}\n\nfunction Delay (dt, source) {\n  this.dt = dt\n  this.source = source\n}\n\nDelay.prototype.run = function (sink, scheduler) {\n  var delaySink = new DelaySink(this.dt, sink, scheduler)\n  return dispose.all([delaySink, this.source.run(delaySink, scheduler)])\n}\n\nfunction DelaySink (dt, sink, scheduler) {\n  this.dt = dt\n  this.sink = sink\n  this.scheduler = scheduler\n}\n\nDelaySink.prototype.dispose = function () {\n  var self = this\n  this.scheduler.cancelAll(function (task) {\n    return task.sink === self.sink\n  })\n}\n\nDelaySink.prototype.event = function (t, x) {\n  this.scheduler.delay(this.dt, PropagateTask.event(x, this.sink))\n}\n\nDelaySink.prototype.end = function (t, x) {\n  this.scheduler.delay(this.dt, PropagateTask.end(x, this.sink))\n}\n\nDelaySink.prototype.error = Pipe.prototype.error\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport Pipe from '../sink/Pipe'\n\nexport function timestamp (stream) {\n  return new Stream(new Timestamp(stream.source))\n}\n\nfunction Timestamp (source) {\n  this.source = source\n}\n\nTimestamp.prototype.run = function (sink, scheduler) {\n  return this.source.run(new TimestampSink(sink), scheduler)\n}\n\nfunction TimestampSink (sink) {\n  this.sink = sink\n}\n\nTimestampSink.prototype.end = Pipe.prototype.end\nTimestampSink.prototype.error = Pipe.prototype.error\n\nTimestampSink.prototype.event = function (t, x) {\n  this.sink.event(t, { time: t, value: x })\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport Pipe from '../sink/Pipe'\nimport * as dispose from '../disposable/dispose'\nimport PropagateTask from '../scheduler/PropagateTask'\nimport Map from '../fusion/Map'\n\n/**\n * Limit the rate of events by suppressing events that occur too often\n * @param {Number} period time to suppress events\n * @param {Stream} stream\n * @returns {Stream}\n */\nexport function throttle (period, stream) {\n  return new Stream(throttleSource(period, stream.source))\n}\n\nfunction throttleSource (period, source) {\n  return source instanceof Map ? commuteMapThrottle(period, source)\n    : source instanceof Throttle ? fuseThrottle(period, source)\n    : new Throttle(period, source)\n}\n\nfunction commuteMapThrottle (period, source) {\n  return Map.create(source.f, throttleSource(period, source.source))\n}\n\nfunction fuseThrottle (period, source) {\n  return new Throttle(Math.max(period, source.period), source.source)\n}\n\nfunction Throttle (period, source) {\n  this.period = period\n  this.source = source\n}\n\nThrottle.prototype.run = function (sink, scheduler) {\n  return this.source.run(new ThrottleSink(this.period, sink), scheduler)\n}\n\nfunction ThrottleSink (period, sink) {\n  this.time = 0\n  this.period = period\n  this.sink = sink\n}\n\nThrottleSink.prototype.event = function (t, x) {\n  if (t >= this.time) {\n    this.time = t + this.period\n    this.sink.event(t, x)\n  }\n}\n\nThrottleSink.prototype.end = Pipe.prototype.end\n\nThrottleSink.prototype.error = Pipe.prototype.error\n\n/**\n * Wait for a burst of events to subside and emit only the last event in the burst\n * @param {Number} period events occuring more frequently than this\n *  will be suppressed\n * @param {Stream} stream stream to debounce\n * @returns {Stream} new debounced stream\n */\nexport function debounce (period, stream) {\n  return new Stream(new Debounce(period, stream.source))\n}\n\nfunction Debounce (dt, source) {\n  this.dt = dt\n  this.source = source\n}\n\nDebounce.prototype.run = function (sink, scheduler) {\n  return new DebounceSink(this.dt, this.source, sink, scheduler)\n}\n\nfunction DebounceSink (dt, source, sink, scheduler) {\n  this.dt = dt\n  this.sink = sink\n  this.scheduler = scheduler\n  this.value = void 0\n  this.timer = null\n\n  var sourceDisposable = source.run(this, scheduler)\n  this.disposable = dispose.all([this, sourceDisposable])\n}\n\nDebounceSink.prototype.event = function (t, x) {\n  this._clearTimer()\n  this.value = x\n  this.timer = this.scheduler.delay(this.dt, PropagateTask.event(x, this.sink))\n}\n\nDebounceSink.prototype.end = function (t, x) {\n  if (this._clearTimer()) {\n    this.sink.event(t, this.value)\n    this.value = void 0\n  }\n  this.sink.end(t, x)\n}\n\nDebounceSink.prototype.error = function (t, x) {\n  this._clearTimer()\n  this.sink.error(t, x)\n}\n\nDebounceSink.prototype.dispose = function () {\n  this._clearTimer()\n}\n\nDebounceSink.prototype._clearTimer = function () {\n  if (this.timer === null) {\n    return false\n  }\n  this.timer.dispose()\n  this.timer = null\n  return true\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport fatal from '../fatalError'\nimport { of as just } from '../source/core'\n\n/**\n * Create a stream containing only the promise's fulfillment\n * value at the time it fulfills.\n * @param {Promise<T>} p promise\n * @return {Stream<T>} stream containing promise's fulfillment value.\n *  If the promise rejects, the stream will error\n */\nexport function fromPromise (p) {\n  return awaitPromises(just(p))\n}\n\n/**\n * Turn a Stream<Promise<T>> into Stream<T> by awaiting each promise.\n * Event order is preserved.\n * @param {Stream<Promise<T>>} stream\n * @return {Stream<T>} stream of fulfillment values.  The stream will\n * error if any promise rejects.\n */\nexport function awaitPromises (stream) {\n  return new Stream(new Await(stream.source))\n}\n\nfunction Await (source) {\n  this.source = source\n}\n\nAwait.prototype.run = function (sink, scheduler) {\n  return this.source.run(new AwaitSink(sink, scheduler), scheduler)\n}\n\nfunction AwaitSink (sink, scheduler) {\n  this.sink = sink\n  this.scheduler = scheduler\n  this.queue = Promise.resolve()\n  var self = this\n\n\t// Pre-create closures, to avoid creating them per event\n  this._eventBound = function (x) {\n    self.sink.event(self.scheduler.now(), x)\n  }\n\n  this._endBound = function (x) {\n    self.sink.end(self.scheduler.now(), x)\n  }\n\n  this._errorBound = function (e) {\n    self.sink.error(self.scheduler.now(), e)\n  }\n}\n\nAwaitSink.prototype.event = function (t, promise) {\n  var self = this\n  this.queue = this.queue.then(function () {\n    return self._event(promise)\n  }).catch(this._errorBound)\n}\n\nAwaitSink.prototype.end = function (t, x) {\n  var self = this\n  this.queue = this.queue.then(function () {\n    return self._end(x)\n  }).catch(this._errorBound)\n}\n\nAwaitSink.prototype.error = function (t, e) {\n  var self = this\n  // Don't resolve error values, propagate directly\n  this.queue = this.queue.then(function () {\n    return self._errorBound(e)\n  }).catch(fatal)\n}\n\nAwaitSink.prototype._event = function (promise) {\n  return promise.then(this._eventBound)\n}\n\nAwaitSink.prototype._end = function (x) {\n  return Promise.resolve(x).then(this._endBound)\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nexport default function SafeSink (sink) {\n  this.sink = sink\n  this.active = true\n}\n\nSafeSink.prototype.event = function (t, x) {\n  if (!this.active) {\n    return\n  }\n  this.sink.event(t, x)\n}\n\nSafeSink.prototype.end = function (t, x) {\n  if (!this.active) {\n    return\n  }\n  this.disable()\n  this.sink.end(t, x)\n}\n\nSafeSink.prototype.error = function (t, e) {\n  this.disable()\n  this.sink.error(t, e)\n}\n\nSafeSink.prototype.disable = function () {\n  this.active = false\n  return this.sink\n}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from '../Stream'\nimport SafeSink from '../sink/SafeSink'\nimport * as dispose from '../disposable/dispose'\nimport * as tryEvent from '../source/tryEvent'\nimport PropagateTask from '../scheduler/PropagateTask'\n\n/**\n * If stream encounters an error, recover and continue with items from stream\n * returned by f.\n * @param {function(error:*):Stream} f function which returns a new stream\n * @param {Stream} stream\n * @returns {Stream} new stream which will recover from an error by calling f\n */\nexport function recoverWith (f, stream) {\n  return new Stream(new RecoverWith(f, stream.source))\n}\n\nexport var flatMapError = recoverWith\n\n/**\n * Create a stream containing only an error\n * @param {*} e error value, preferably an Error or Error subtype\n * @returns {Stream} new stream containing only an error\n */\nexport function throwError (e) {\n  return new Stream(new ErrorSource(e))\n}\n\nfunction ErrorSource (e) {\n  this.value = e\n}\n\nErrorSource.prototype.run = function (sink, scheduler) {\n  return scheduler.asap(new PropagateTask(runError, this.value, sink))\n}\n\nfunction runError (t, e, sink) {\n  sink.error(t, e)\n}\n\nfunction RecoverWith (f, source) {\n  this.f = f\n  this.source = source\n}\n\nRecoverWith.prototype.run = function (sink, scheduler) {\n  return new RecoverWithSink(this.f, this.source, sink, scheduler)\n}\n\nfunction RecoverWithSink (f, source, sink, scheduler) {\n  this.f = f\n  this.sink = new SafeSink(sink)\n  this.scheduler = scheduler\n  this.disposable = source.run(this, scheduler)\n}\n\nRecoverWithSink.prototype.event = function (t, x) {\n  tryEvent.tryEvent(t, x, this.sink)\n}\n\nRecoverWithSink.prototype.end = function (t, x) {\n  tryEvent.tryEnd(t, x, this.sink)\n}\n\nRecoverWithSink.prototype.error = function (t, e) {\n  var nextSink = this.sink.disable()\n\n  dispose.tryDispose(t, this.disposable, this.sink)\n  this._startNext(t, e, nextSink)\n}\n\nRecoverWithSink.prototype._startNext = function (t, x, sink) {\n  try {\n    this.disposable = this._continue(this.f, x, sink)\n  } catch (e) {\n    sink.error(t, e)\n  }\n}\n\nRecoverWithSink.prototype._continue = function (f, x, sink) {\n  var stream = f(x)\n  return stream.source.run(sink, this.scheduler)\n}\n\nRecoverWithSink.prototype.dispose = function () {\n  return this.disposable.dispose()\n}\n","export default class MulticastDisposable {\n  constructor (source, sink) {\n    this.source = source\n    this.sink = sink\n    this.disposed = false\n  }\n\n  dispose () {\n    if (this.disposed) {\n      return\n    }\n    this.disposed = true\n    const remaining = this.source.remove(this.sink)\n    return remaining === 0 && this.source._dispose()\n  }\n}\n","export function tryEvent (t, x, sink) {\n  try {\n    sink.event(t, x)\n  } catch (e) {\n    sink.error(t, e)\n  }\n}\n\nexport function tryEnd (t, x, sink) {\n  try {\n    sink.end(t, x)\n  } catch (e) {\n    sink.error(t, e)\n  }\n}\n","export const dispose = disposable => disposable.dispose()\n\nexport const emptyDisposable = {\n  dispose () {}\n}\n","import MulticastDisposable from './MulticastDisposable'\nimport { tryEvent, tryEnd } from './tryEvent'\nimport { dispose, emptyDisposable } from './dispose'\nimport { append, remove, findIndex } from '@most/prelude'\n\nexport default class MulticastSource {\n  constructor (source) {\n    this.source = source\n    this.sinks = []\n    this._disposable = emptyDisposable\n  }\n\n  run (sink, scheduler) {\n    const n = this.add(sink)\n    if (n === 1) {\n      this._disposable = this.source.run(this, scheduler)\n    }\n    return new MulticastDisposable(this, sink)\n  }\n\n  _dispose () {\n    const disposable = this._disposable\n    this._disposable = emptyDisposable\n    return Promise.resolve(disposable).then(dispose)\n  }\n\n  add (sink) {\n    this.sinks = append(sink, this.sinks)\n    return this.sinks.length\n  }\n\n  remove (sink) {\n    const i = findIndex(sink, this.sinks)\n    // istanbul ignore next\n    if (i >= 0) {\n      this.sinks = remove(i, this.sinks)\n    }\n\n    return this.sinks.length\n  }\n\n  event (time, value) {\n    const s = this.sinks\n    if (s.length === 1) {\n      return s[0].event(time, value)\n    }\n    for (let i = 0; i < s.length; ++i) {\n      tryEvent(time, value, s[i])\n    }\n  }\n\n  end (time, value) {\n    const s = this.sinks\n    for (let i = 0; i < s.length; ++i) {\n      tryEnd(time, value, s[i])\n    }\n  }\n\n  error (time, err) {\n    const s = this.sinks\n    for (let i = 0; i < s.length; ++i) {\n      s[i].error(time, err)\n    }\n  }\n}\n","import MulticastSource from './MulticastSource'\n\nfunction multicast (stream) {\n  const source = stream.source\n  return source instanceof MulticastSource\n    ? stream\n    : new stream.constructor(new MulticastSource(source))\n}\n\nexport {multicast as default, MulticastSource}\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nimport Stream from './Stream'\nimport * as base from '@most/prelude'\nimport { of, empty, never } from './source/core'\nimport { from } from './source/from'\nimport { periodic } from './source/periodic'\nimport symbolObservable from 'symbol-observable'\n\n/**\n * Core stream type\n * @type {Stream}\n */\nexport { Stream }\n\n// Add of and empty to constructor for fantasy-land compat\nStream.of = of\nStream.empty = empty\n// Add from to constructor for ES Observable compat\nStream.from = from\nexport { of, of as just, empty, never, from, periodic }\n\n// -----------------------------------------------------------------------\n// Draft ES Observable proposal interop\n// https://github.com/zenparsing/es-observable\n\nimport { subscribe } from './observable/subscribe'\n\nStream.prototype.subscribe = function (subscriber) {\n  return subscribe(subscriber, this)\n}\n\nStream.prototype[symbolObservable] = function () {\n  return this\n}\n\n// -----------------------------------------------------------------------\n// Fluent adapter\n\nimport { thru } from './combinator/thru'\n\n/**\n * Adapt a functional stream transform to fluent style.\n * It applies f to the this stream object\n * @param  {function(s: Stream): Stream} f function that\n * receives the stream itself and must return a new stream\n * @return {Stream}\n */\nStream.prototype.thru = function (f) {\n  return thru(f, this)\n}\n\n// -----------------------------------------------------------------------\n// Adapting other sources\n\n/**\n * Create a stream of events from the supplied EventTarget or EventEmitter\n * @param {String} event event name\n * @param {EventTarget|EventEmitter} source EventTarget or EventEmitter. The source\n *  must support either addEventListener/removeEventListener (w3c EventTarget:\n *  http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-EventTarget),\n *  or addListener/removeListener (node EventEmitter: http://nodejs.org/api/events.html)\n * @returns {Stream} stream of events of the specified type from the source\n */\nexport { fromEvent } from './source/fromEvent'\n\n// -----------------------------------------------------------------------\n// Observing\n\nimport { observe, drain } from './combinator/observe'\n\nexport { observe, observe as forEach, drain }\n\n/**\n * Process all the events in the stream\n * @returns {Promise} promise that fulfills when the stream ends, or rejects\n *  if the stream fails with an unhandled error.\n */\nStream.prototype.observe = Stream.prototype.forEach = function (f) {\n  return observe(f, this)\n}\n\n/**\n * Consume all events in the stream, without providing a function to process each.\n * This causes a stream to become active and begin emitting events, and is useful\n * in cases where all processing has been setup upstream via other combinators, and\n * there is no need to process the terminal events.\n * @returns {Promise} promise that fulfills when the stream ends, or rejects\n *  if the stream fails with an unhandled error.\n */\nStream.prototype.drain = function () {\n  return drain(this)\n}\n\n// -------------------------------------------------------\n\nimport { loop } from './combinator/loop'\n\nexport { loop }\n\n/**\n * Generalized feedback loop. Call a stepper function for each event. The stepper\n * will be called with 2 params: the current seed and the an event value.  It must\n * return a new { seed, value } pair. The `seed` will be fed back into the next\n * invocation of stepper, and the `value` will be propagated as the event value.\n * @param {function(seed:*, value:*):{seed:*, value:*}} stepper loop step function\n * @param {*} seed initial seed value passed to first stepper call\n * @returns {Stream} new stream whose values are the `value` field of the objects\n * returned by the stepper\n */\nStream.prototype.loop = function (stepper, seed) {\n  return loop(stepper, seed, this)\n}\n\n// -------------------------------------------------------\n\nimport { scan, reduce } from './combinator/accumulate'\n\nexport { scan, reduce }\n\n/**\n * Create a stream containing successive reduce results of applying f to\n * the previous reduce result and the current stream item.\n * @param {function(result:*, x:*):*} f reducer function\n * @param {*} initial initial value\n * @returns {Stream} new stream containing successive reduce results\n */\nStream.prototype.scan = function (f, initial) {\n  return scan(f, initial, this)\n}\n\n/**\n * Reduce the stream to produce a single result.  Note that reducing an infinite\n * stream will return a Promise that never fulfills, but that may reject if an error\n * occurs.\n * @param {function(result:*, x:*):*} f reducer function\n * @param {*} initial optional initial value\n * @returns {Promise} promise for the file result of the reduce\n */\nStream.prototype.reduce = function (f, initial) {\n  return reduce(f, initial, this)\n}\n\n// -----------------------------------------------------------------------\n// Building and extending\n\nexport { unfold } from './source/unfold'\nexport { iterate } from './source/iterate'\nexport { generate } from './source/generate'\nimport { concat, cons as startWith } from './combinator/build'\n\nexport { concat, startWith }\n\n/**\n * @param {Stream} tail\n * @returns {Stream} new stream containing all items in this followed by\n *  all items in tail\n */\nStream.prototype.concat = function (tail) {\n  return concat(this, tail)\n}\n\n/**\n * @param {*} x value to prepend\n * @returns {Stream} a new stream with x prepended\n */\nStream.prototype.startWith = function (x) {\n  return startWith(x, this)\n}\n\n// -----------------------------------------------------------------------\n// Transforming\n\nimport { map, constant, tap } from './combinator/transform'\nimport { ap } from './combinator/applicative'\n\nexport { map, constant, tap, ap }\n\n/**\n * Transform each value in the stream by applying f to each\n * @param {function(*):*} f mapping function\n * @returns {Stream} stream containing items transformed by f\n */\nStream.prototype.map = function (f) {\n  return map(f, this)\n}\n\n/**\n * Assume this stream contains functions, and apply each function to each item\n * in the provided stream.  This generates, in effect, a cross product.\n * @param {Stream} xs stream of items to which\n * @returns {Stream} stream containing the cross product of items\n */\nStream.prototype.ap = function (xs) {\n  return ap(this, xs)\n}\n\n/**\n * Replace each value in the stream with x\n * @param {*} x\n * @returns {Stream} stream containing items replaced with x\n */\nStream.prototype.constant = function (x) {\n  return constant(x, this)\n}\n\n/**\n * Perform a side effect for each item in the stream\n * @param {function(x:*):*} f side effect to execute for each item. The\n *  return value will be discarded.\n * @returns {Stream} new stream containing the same items as this stream\n */\nStream.prototype.tap = function (f) {\n  return tap(f, this)\n}\n\n// -----------------------------------------------------------------------\n// Transducer support\n\nimport { transduce } from './combinator/transduce'\n\nexport { transduce }\n\n/**\n * Transform this stream by passing its events through a transducer.\n * @param  {function} transducer transducer function\n * @return {Stream} stream of events transformed by the transducer\n */\nStream.prototype.transduce = function (transducer) {\n  return transduce(transducer, this)\n}\n\n// -----------------------------------------------------------------------\n// FlatMapping\n\nimport { flatMap, join } from './combinator/flatMap'\n\nexport { flatMap, flatMap as chain, join }\n\n/**\n * Map each value in the stream to a new stream, and merge it into the\n * returned outer stream. Event arrival times are preserved.\n * @param {function(x:*):Stream} f chaining function, must return a Stream\n * @returns {Stream} new stream containing all events from each stream returned by f\n */\nStream.prototype.flatMap = Stream.prototype.chain = function (f) {\n  return flatMap(f, this)\n}\n\n/**\n * Monadic join. Flatten a Stream<Stream<X>> to Stream<X> by merging inner\n * streams to the outer. Event arrival times are preserved.\n * @returns {Stream<X>} new stream containing all events of all inner streams\n */\nStream.prototype.join = function () {\n  return join(this)\n}\n\nimport { continueWith } from './combinator/continueWith'\n\nexport { continueWith, continueWith as flatMapEnd }\n\n/**\n * Map the end event to a new stream, and begin emitting its values.\n * @param {function(x:*):Stream} f function that receives the end event value,\n * and *must* return a new Stream to continue with.\n * @returns {Stream} new stream that emits all events from the original stream,\n * followed by all events from the stream returned by f.\n */\nStream.prototype.continueWith = Stream.prototype.flatMapEnd = function (f) {\n  return continueWith(f, this)\n}\n\nimport { concatMap } from './combinator/concatMap'\n\nexport { concatMap }\n\nStream.prototype.concatMap = function (f) {\n  return concatMap(f, this)\n}\n\n// -----------------------------------------------------------------------\n// Concurrent merging\n\nimport { mergeConcurrently } from './combinator/mergeConcurrently'\n\nexport { mergeConcurrently }\n\n/**\n * Flatten a Stream<Stream<X>> to Stream<X> by merging inner\n * streams to the outer, limiting the number of inner streams that may\n * be active concurrently.\n * @param {number} concurrency at most this many inner streams will be\n *  allowed to be active concurrently.\n * @return {Stream<X>} new stream containing all events of all inner\n *  streams, with limited concurrency.\n */\nStream.prototype.mergeConcurrently = function (concurrency) {\n  return mergeConcurrently(concurrency, this)\n}\n\n// -----------------------------------------------------------------------\n// Merging\n\nimport { merge, mergeArray } from './combinator/merge'\n\nexport { merge, mergeArray }\n\n/**\n * Merge this stream and all the provided streams\n * @returns {Stream} stream containing items from this stream and s in time\n * order.  If two events are simultaneous they will be merged in\n * arbitrary order.\n */\nStream.prototype.merge = function (/* ...streams*/) {\n  return mergeArray(base.cons(this, arguments))\n}\n\n// -----------------------------------------------------------------------\n// Combining\n\nimport { combine, combineArray } from './combinator/combine'\n\nexport { combine, combineArray }\n\n/**\n * Combine latest events from all input streams\n * @param {function(...events):*} f function to combine most recent events\n * @returns {Stream} stream containing the result of applying f to the most recent\n *  event of each input stream, whenever a new event arrives on any stream.\n */\nStream.prototype.combine = function (f /*, ...streams*/) {\n  return combineArray(f, base.replace(this, 0, arguments))\n}\n\n// -----------------------------------------------------------------------\n// Sampling\n\nimport { sample, sampleArray, sampleWith } from './combinator/sample'\n\nexport { sample, sampleArray, sampleWith }\n\n/**\n * When an event arrives on sampler, emit the latest event value from stream.\n * @param {Stream} sampler stream of events at whose arrival time\n *  signal's latest value will be propagated\n * @returns {Stream} sampled stream of values\n */\nStream.prototype.sampleWith = function (sampler) {\n  return sampleWith(sampler, this)\n}\n\n/**\n * When an event arrives on this stream, emit the result of calling f with the latest\n * values of all streams being sampled\n * @param {function(...values):*} f function to apply to each set of sampled values\n * @returns {Stream} stream of sampled and transformed values\n */\nStream.prototype.sample = function (f /* ...streams */) {\n  return sampleArray(f, this, base.tail(arguments))\n}\n\n// -----------------------------------------------------------------------\n// Zipping\n\nimport { zip, zipArray } from './combinator/zip'\n\nexport { zip, zipArray }\n\n/**\n * Pair-wise combine items with those in s. Given 2 streams:\n * [1,2,3] zipWith f [4,5,6] -> [f(1,4),f(2,5),f(3,6)]\n * Note: zip causes fast streams to buffer and wait for slow streams.\n * @param {function(a:Stream, b:Stream, ...):*} f function to combine items\n * @returns {Stream} new stream containing pairs\n */\nStream.prototype.zip = function (f /*, ...streams*/) {\n  return zipArray(f, base.replace(this, 0, arguments))\n}\n\n// -----------------------------------------------------------------------\n// Switching\n\nimport { switchLatest } from './combinator/switch'\n\nexport { switchLatest, switchLatest as switch }\n\n/**\n * Given a stream of streams, return a new stream that adopts the behavior\n * of the most recent inner stream.\n * @returns {Stream} switching stream\n */\nStream.prototype.switch = Stream.prototype.switchLatest = function () {\n  return switchLatest(this)\n}\n\n// -----------------------------------------------------------------------\n// Filtering\n\nimport { filter, skipRepeats, skipRepeatsWith } from './combinator/filter'\n\nexport { filter, skipRepeats, skipRepeats as distinct, skipRepeatsWith, skipRepeatsWith as distinctBy }\n\n/**\n * Retain only items matching a predicate\n * stream:                           -12345678-\n * filter(x => x % 2 === 0, stream): --2-4-6-8-\n * @param {function(x:*):boolean} p filtering predicate called for each item\n * @returns {Stream} stream containing only items for which predicate returns truthy\n */\nStream.prototype.filter = function (p) {\n  return filter(p, this)\n}\n\n/**\n * Skip repeated events, using === to compare items\n * stream:           -abbcd-\n * distinct(stream): -ab-cd-\n * @returns {Stream} stream with no repeated events\n */\nStream.prototype.skipRepeats = function () {\n  return skipRepeats(this)\n}\n\n/**\n * Skip repeated events, using supplied equals function to compare items\n * @param {function(a:*, b:*):boolean} equals function to compare items\n * @returns {Stream} stream with no repeated events\n */\nStream.prototype.skipRepeatsWith = function (equals) {\n  return skipRepeatsWith(equals, this)\n}\n\n// -----------------------------------------------------------------------\n// Slicing\n\nimport { take, skip, slice, takeWhile, skipWhile } from './combinator/slice'\n\nexport { take, skip, slice, takeWhile, skipWhile }\n\n/**\n * stream:          -abcd-\n * take(2, stream): -ab|\n * @param {Number} n take up to this many events\n * @returns {Stream} stream containing at most the first n items from this stream\n */\nStream.prototype.take = function (n) {\n  return take(n, this)\n}\n\n/**\n * stream:          -abcd->\n * skip(2, stream): ---cd->\n * @param {Number} n skip this many events\n * @returns {Stream} stream not containing the first n events\n */\nStream.prototype.skip = function (n) {\n  return skip(n, this)\n}\n\n/**\n * Slice a stream by event index. Equivalent to, but more efficient than\n * stream.take(end).skip(start);\n * NOTE: Negative start and end are not supported\n * @param {Number} start skip all events before the start index\n * @param {Number} end allow all events from the start index to the end index\n * @returns {Stream} stream containing items where start <= index < end\n */\nStream.prototype.slice = function (start, end) {\n  return slice(start, end, this)\n}\n\n/**\n * stream:                        -123451234->\n * takeWhile(x => x < 5, stream): -1234|\n * @param {function(x:*):boolean} p predicate\n * @returns {Stream} stream containing items up to, but not including, the\n * first item for which p returns falsy.\n */\nStream.prototype.takeWhile = function (p) {\n  return takeWhile(p, this)\n}\n\n/**\n * stream:                        -123451234->\n * skipWhile(x => x < 5, stream): -----51234->\n * @param {function(x:*):boolean} p predicate\n * @returns {Stream} stream containing items following *and including* the\n * first item for which p returns falsy.\n */\nStream.prototype.skipWhile = function (p) {\n  return skipWhile(p, this)\n}\n\n// -----------------------------------------------------------------------\n// Time slicing\n\nimport { takeUntil, skipUntil, during } from './combinator/timeslice'\n\nexport { takeUntil, takeUntil as until, skipUntil, skipUntil as since, during }\n\n/**\n * stream:                    -a-b-c-d-e-f-g->\n * signal:                    -------x\n * takeUntil(signal, stream): -a-b-c-|\n * @param {Stream} signal retain only events in stream before the first\n * event in signal\n * @returns {Stream} new stream containing only events that occur before\n * the first event in signal.\n */\nStream.prototype.until = Stream.prototype.takeUntil = function (signal) {\n  return takeUntil(signal, this)\n}\n\n/**\n * stream:                    -a-b-c-d-e-f-g->\n * signal:                    -------x\n * takeUntil(signal, stream): -------d-e-f-g->\n * @param {Stream} signal retain only events in stream at or after the first\n * event in signal\n * @returns {Stream} new stream containing only events that occur after\n * the first event in signal.\n */\nStream.prototype.since = Stream.prototype.skipUntil = function (signal) {\n  return skipUntil(signal, this)\n}\n\n/**\n * stream:                    -a-b-c-d-e-f-g->\n * timeWindow:                -----s\n * s:                               -----t\n * stream.during(timeWindow): -----c-d-e-|\n * @param {Stream<Stream>} timeWindow a stream whose first event (s) represents\n *  the window start time.  That event (s) is itself a stream whose first event (t)\n *  represents the window end time\n * @returns {Stream} new stream containing only events within the provided timespan\n */\nStream.prototype.during = function (timeWindow) {\n  return during(timeWindow, this)\n}\n\n// -----------------------------------------------------------------------\n// Delaying\n\nimport { delay } from './combinator/delay'\n\nexport { delay }\n\n/**\n * @param {Number} delayTime milliseconds to delay each item\n * @returns {Stream} new stream containing the same items, but delayed by ms\n */\nStream.prototype.delay = function (delayTime) {\n  return delay(delayTime, this)\n}\n\n// -----------------------------------------------------------------------\n// Getting event timestamp\n\nimport { timestamp } from './combinator/timestamp'\nexport { timestamp }\n\n/**\n * Expose event timestamps into the stream. Turns a Stream<X> into\n * Stream<{time:t, value:X}>\n * @returns {Stream<{time:number, value:*}>}\n */\nStream.prototype.timestamp = function () {\n  return timestamp(this)\n}\n\n// -----------------------------------------------------------------------\n// Rate limiting\n\nimport { throttle, debounce } from './combinator/limit'\n\nexport { throttle, debounce }\n\n/**\n * Limit the rate of events\n * stream:              abcd----abcd----\n * throttle(2, stream): a-c-----a-c-----\n * @param {Number} period time to suppress events\n * @returns {Stream} new stream that skips events for throttle period\n */\nStream.prototype.throttle = function (period) {\n  return throttle(period, this)\n}\n\n/**\n * Wait for a burst of events to subside and emit only the last event in the burst\n * stream:              abcd----abcd----\n * debounce(2, stream): -----d-------d--\n * @param {Number} period events occuring more frequently than this\n *  on the provided scheduler will be suppressed\n * @returns {Stream} new debounced stream\n */\nStream.prototype.debounce = function (period) {\n  return debounce(period, this)\n}\n\n// -----------------------------------------------------------------------\n// Awaiting Promises\n\nimport { fromPromise, awaitPromises } from './combinator/promises'\n\nexport { fromPromise, awaitPromises, awaitPromises as await }\n\n/**\n * Await promises, turning a Stream<Promise<X>> into Stream<X>.  Preserves\n * event order, but timeshifts events based on promise resolution time.\n * @returns {Stream<X>} stream containing non-promise values\n */\nStream.prototype.await = function () {\n  return awaitPromises(this)\n}\n\n// -----------------------------------------------------------------------\n// Error handling\n\nimport { recoverWith, flatMapError, throwError } from './combinator/errors'\n\nexport { recoverWith, flatMapError, throwError }\n\n/**\n * If this stream encounters an error, recover and continue with items from stream\n * returned by f.\n * stream:                  -a-b-c-X-\n * f(X):                           d-e-f-g-\n * flatMapError(f, stream): -a-b-c-d-e-f-g-\n * @param {function(error:*):Stream} f function which returns a new stream\n * @returns {Stream} new stream which will recover from an error by calling f\n */\nStream.prototype.recoverWith = Stream.prototype.flatMapError = function (f) {\n  return flatMapError(f, this)\n}\n\n// -----------------------------------------------------------------------\n// Multicasting\n\nimport multicast from '@most/multicast'\n\nexport { multicast }\n\n/**\n * Transform the stream into multicast stream.  That means that many subscribers\n * to the stream will not cause multiple invocations of the internal machinery.\n * @returns {Stream} new stream which will multicast events to all observers.\n */\nStream.prototype.multicast = function () {\n  return multicast(this)\n}\n","import { Stream } from 'most';\nimport { MulticastSource } from '@most/multicast';\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\nfunction defer (task) { return Promise.resolve(task).then(runTask); }\n\nfunction runTask (task) {\n  try {\n    return task.run()\n  } catch (e) {\n    return task.error(e)\n  }\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\nvar PropagateAllTask = function PropagateAllTask (sink, time, events) {\n  this.sink = sink\n  this.time = time\n  this.events = events\n};\n\nPropagateAllTask.prototype.run = function run () {\n    var this$1 = this;\n\n  var events = this.events\n  var sink = this.sink\n  var event\n\n  for (var i = 0, l = events.length; i < l; ++i) {\n    event = events[i]\n    this$1.time = event.time\n    sink.event(event.time, event.value)\n  }\n\n  events.length = 0\n};\n\nPropagateAllTask.prototype.error = function error (e) {\n  this.sink.error(this.time, e)\n};\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\nvar EndTask = function EndTask (t, x, sink) {\n  this.time = t\n  this.value = x\n  this.sink = sink\n};\n\nEndTask.prototype.run = function run () {\n  this.sink.end(this.time, this.value)\n};\n\nEndTask.prototype.error = function error (e) {\n  this.sink.error(this.time, e)\n};\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\nvar ErrorTask = function ErrorTask (t, e, sink) {\n  this.time = t\n  this.value = e\n  this.sink = sink\n};\n\nErrorTask.prototype.run = function run () {\n  this.sink.error(this.time, this.value)\n};\n\nErrorTask.prototype.error = function error (e) {\n  throw e\n};\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\nvar DeferredSink = function DeferredSink (sink) {\n  this.sink = sink\n  this.events = []\n  this.active = true\n};\n\nDeferredSink.prototype.event = function event (t, x) {\n  if (!this.active) {\n    return\n  }\n\n  if (this.events.length === 0) {\n    defer(new PropagateAllTask(this.sink, t, this.events))\n  }\n\n  this.events.push({ time: t, value: x })\n};\n\nDeferredSink.prototype.end = function end (t, x) {\n  if (!this.active) {\n    return\n  }\n\n  this._end(new EndTask(t, x, this.sink))\n};\n\nDeferredSink.prototype.error = function error (t, e) {\n  this._end(new ErrorTask(t, e, this.sink))\n};\n\nDeferredSink.prototype._end = function _end (task) {\n  this.active = false\n  defer(task)\n};\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\nvar CreateSubscriber = function CreateSubscriber (sink, scheduler, subscribe) {\n  this.sink = sink\n  this.scheduler = scheduler\n  this._unsubscribe = this._init(subscribe)\n};\n\nCreateSubscriber.prototype._init = function _init (subscribe) {\n    var this$1 = this;\n\n  var add = function (x) { return this$1.sink.event(this$1.scheduler.now(), x); }\n  var end = function (x) { return this$1.sink.end(this$1.scheduler.now(), x); }\n  var error = function (e) { return this$1.sink.error(this$1.scheduler.now(), e); }\n\n  try {\n    return subscribe(add, end, error)\n  } catch (e) {\n    error(e)\n  }\n};\n\nCreateSubscriber.prototype.dispose = function dispose () {\n  if (typeof this._unsubscribe === 'function') {\n    return this._unsubscribe.call(void 0)\n  }\n};\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\nvar Create = function Create (subscribe) {\n  this._subscribe = subscribe\n};\n\nCreate.prototype.run = function run (sink, scheduler) {\n  return new CreateSubscriber(new DeferredSink(sink), scheduler, this._subscribe)\n};\n\n/** @license MIT License (c) copyright 2016 original author or authors */\n\nfunction create (run) {\n  return new Stream(new MulticastSource(new Create(run)))\n}\n\nexport { create };","import { RequestOptions, ErrorResponse, RequestWithHeaders } from './interfaces'\nimport superagent from 'superagent'\nimport {Stream, fromPromise} from 'most'\nimport {create} from '@most/create'\n\nexport function fetch(\n  input: string|RequestWithHeaders,\n  init?: RequestOptions,\n  abortCallback?: (req: Request) => void\n): Stream<any> {\n\n  if (!(input instanceof Request)) {\n    input = new Request(input, init) as RequestWithHeaders\n  }\n\n  let req = superagent[input.method.toLowerCase()](input.url)\n\n  for (let header of input.headers) {\n    req.set(header[0], header[1])\n  }\n\n  return fromPromise(input.text())\n  .flatMap(body => {\n    req.send(body)\n\n    return create((add, end, error) => {\n      req.end(function(err: any, res: any) {\n        if (err) {\n          let response = new Response(err, res) as ErrorResponse\n          response.message = response.statusText\n          return error(response)\n        }\n\n        if (res.noContent === true) {\n          add(new Response())\n          return end()\n        }\n\n        let response = new Response(res.text, res)\n\n        add(response)\n        end()\n      })\n\n      return function abort() {\n        req.abort()\n        abortCallback(req)\n      }\n    })\n  })\n}\n","import { RxRestConfiguration } from './RxRestConfiguration'\nimport {\n  RequestInterceptor,\n  ResponseInterceptor,\n  ErrorInterceptor,\n  ErrorResponse\n} from './interfaces';\nimport { RxRestCollection, RxRestItem, BodyParam } from './index'\nimport { fetch as superAgentFetch } from './fetch'\nimport { Stream, throwError, of } from 'most'\nimport { create } from '@most/create'\n\nexport interface RequestBodyHandler<T> {\n  (body: BodyParam<T>): FormData|URLSearchParams|Body|Blob|undefined|string|Promise<any>\n}\n\nexport interface ResponseBodyHandler {\n  (body: Response): Promise<any>\n}\n\nconst fromPromise = function(promise: Promise<any>) {\n  return create((add, end, error) => {\n    promise\n    .then((v) => {\n      add(v)\n      end()\n    })\n    .catch(error)\n  })\n}\n\nfunction objectToMap(map: URLSearchParams | Headers, item: any): any {\n  for (let key in item) {\n    if (Array.isArray(item[key])) {\n      for (let i = 0; i < item[key].length; i++) {\n        map.append(key, item[key][i])\n      }\n    } else {\n      map.append(key, item[key])\n    }\n  }\n\n  return map\n}\n\nconst Config = new RxRestConfiguration()\n\nexport class RxRest<T> {\n  protected $route: string[]\n  $fromServer: boolean = false\n  $queryParams: URLSearchParams = new URLSearchParams()\n  $headers: Headers = new Headers()\n\n  /**\n   * constructor\n   *\n   * @param {String} [route] the resource route\n   */\n  constructor(route?: string[]) {\n    this.$route = route === undefined ? [] : [...route]\n  }\n\n  protected addRoute(route: string): void {\n    this.$route.push.apply(this.$route, route.split('/'))\n  }\n\n  /**\n   * one\n   *\n   * @param {String} route\n   * @param {any} id\n   * @returns {RxRestItem}\n   */\n  one<T>(route: string, id?: any): RxRestItem<T> {\n    this.addRoute(route)\n    let o = {} as T\n    if (id) {\n      o[this.identifier] = id\n    }\n\n    return new RxRestItem<T>(this.$route, o)\n  }\n\n  /**\n   * all\n   *\n   * @param {String} route\n   * @returns {RxRestCollection}\n   */\n  all<T>(route: string): RxRestCollection<T> {\n    this.addRoute(route)\n    return new RxRestCollection<T>(this.$route)\n  }\n\n  /**\n   * fromObject\n   *\n   * @param {String} route\n   * @param {Object|Object[]} element\n   * @returns {RxRestItem|RxRestCollection}\n   */\n  fromObject<T>(route: string, element: T|T[]): RxRestItem<T>|RxRestCollection<T> {\n    this.addRoute(route)\n    return Array.isArray(element) ?\n      new RxRestCollection<T>(this.$route, element) : new RxRestItem<T>(this.$route, element);\n  }\n\n  /**\n   * @access private\n   * @param {BodyParam} body\n   * @return {BodyParam|RxRestItem}\n   */\n  protected withBody(body: BodyParam<T>) {\n    return body ? body : this\n  }\n\n  /**\n   * post\n   *\n   * @param {Body|Blob|FormData|URLSearchParams|Object|RxRestItem} [body]\n   * @param {Object|URLSearchParams} [queryParams]\n   * @param {Object|Headers} [headers]\n   * @returns {Stream<RxRestItem|RxRestCollection>}\n   */\n  post(body?: BodyParam<T>, queryParams?: Object|URLSearchParams, headers?: Object|Headers):\n    Stream<RxRestItem<T>|RxRestCollection<T>> {\n    this.localQueryParams = queryParams\n    this.localHeaders = headers\n\n    return this.request('POST', this.withBody(body))\n  }\n\n  /**\n   * remove\n   *\n   * @param {Object|URLSearchParams} [queryParams]\n   * @param {Object|Headers} [headers]\n   * @returns {Stream<RxRestItem|RxRestCollection>}\n   */\n  remove(queryParams?: Object|URLSearchParams, headers?: Object|Headers):\n    Stream<RxRestItem<T>|RxRestCollection<T>> {\n    this.localQueryParams = queryParams\n    this.localHeaders = headers\n\n    return this.request('DELETE')\n  }\n\n  /**\n   * get\n   *\n   * @param {Object|URLSearchParams} [queryParams]\n   * @param {Object|Headers} [headers]\n   * @returns {Stream<RxRestItem|RxRestCollection>}\n   */\n  get(queryParams?: Object|URLSearchParams, headers?: Object|Headers):\n    Stream<RxRestItem<T>|RxRestCollection<T>> {\n    this.localQueryParams = queryParams\n    this.localHeaders = headers\n\n    return this.request('GET')\n  }\n\n  /**\n   * put\n   *\n   * @param {Body|Blob|FormData|URLSearchParams|Object|RxRestItem} [body]\n   * @param {Object|URLSearchParams} [queryParams]\n   * @param {Object|Headers} [headers]\n   * @returns {Stream<RxRestItem|RxRestCollection>}\n   */\n  put(body?: BodyParam<T>, queryParams?: Object|URLSearchParams, headers?: Object|Headers):\n    Stream<RxRestItem<T>|RxRestCollection<T>> {\n    this.localQueryParams = queryParams\n    this.localHeaders = headers\n\n    return this.request('PUT', this.withBody(body))\n  }\n\n  /**\n   * patch\n   *\n   * @param {Body|Blob|FormData|URLSearchParams|Object|RxRestItem} [body]\n   * @param {Object|URLSearchParams} [queryParams]\n   * @param {Object|Headers} [headers]\n   * @returns {Stream<RxRestItem|RxRestCollection>}\n   */\n  patch(body?: BodyParam<T>, queryParams?: Object|URLSearchParams, headers?: Object|Headers):\n    Stream<RxRestItem<T>|RxRestCollection<T>> {\n    this.localQueryParams = queryParams\n    this.localHeaders = headers\n\n    return this.request('PATCH', this.withBody(body))\n  }\n\n  /**\n   * head\n   *\n   * @param {Object|URLSearchParams} [queryParams]\n   * @param {Object|Headers} [headers]\n   * @returns {Stream<RxRestItem|RxRestCollection>}\n   */\n  head(queryParams?: Object|URLSearchParams, headers?: Object|Headers):\n    Stream<RxRestItem<T>|RxRestCollection<T>> {\n    this.localQueryParams = queryParams\n    this.localHeaders = headers\n\n    return this.request('HEAD')\n  }\n\n  /**\n   * trace\n   *\n   * @param {Object|URLSearchParams} [queryParams]\n   * @param {Object|Headers} [headers]\n   * @returns {Stream<RxRestItem|RxRestCollection>}\n   */\n  trace(queryParams?: Object|URLSearchParams, headers?: Object|Headers):\n    Stream<RxRestItem<T>|RxRestCollection<T>> {\n    this.localQueryParams = queryParams\n    this.localHeaders = headers\n\n    return this.request('TRACE')\n  }\n\n  /**\n   * options\n   *\n   * @param {Object|URLSearchParams} [queryParams]\n   * @param {Object|Headers} [headers]\n   * @returns {Stream<RxRestItem|RxRestCollection>}\n   */\n  options(queryParams?: Object|URLSearchParams, headers?: Object|Headers):\n    Stream<RxRestItem<T>|RxRestCollection<T>> {\n    this.localQueryParams = queryParams\n    this.localHeaders = headers\n\n    return this.request('OPTIONS')\n  }\n\n  /**\n   * URL\n   *\n   * @returns {string}\n   */\n  get URL(): string {\n    return `${Config.baseURL}${this.$route.join('/')}`\n  }\n\n  /**\n   * set baseURL\n   *\n   * @param {String} base\n   * @returns\n   */\n  set baseURL(base: string) {\n    if (base.charAt(base.length - 1) !== '/') {\n      base += '/'\n    }\n\n    Config.baseURL = base\n  }\n\n  /**\n   * get baseURL\n   *\n   * @returns {string}\n   */\n  get baseURL(): string {\n    return Config.baseURL\n  }\n\n  /**\n   * Set identifier key\n   *\n   * @param {String} id\n   */\n  set identifier(id: string) {\n    Config.identifier = id\n  }\n\n  /**\n   * Get identifier key\n   */\n  get identifier(): string {\n    return Config.identifier\n  }\n\n  /**\n   * set local query params\n   * @param {Object|URLSearchParams} params\n   */\n  set localQueryParams(params: any) {\n    if (!params) {\n      return\n    }\n\n    if (params instanceof URLSearchParams) {\n      this.$queryParams = params\n      return\n    }\n\n    this.$queryParams = objectToMap(new URLSearchParams(), params)\n  }\n\n  /**\n   * Sets local query params useful to add params to a custom request\n   * @param {Object|URLSearchParams}\n   * @return this\n   */\n  setQueryParams(params: any): RxRest<T> {\n    this.localQueryParams = params\n    return this\n  }\n\n  /**\n   * Sets local headers useful to add headers to a custom request\n   * @param {Object|URLSearchParams}\n   * @return this\n   */\n  setHeaders(params: any): RxRest<T> {\n    this.localHeaders = params\n    return this\n  }\n\n  /**\n   * Get local query params\n   * @return URLSearchParams\n   */\n  get localQueryParams(): any {\n    return this.$queryParams\n  }\n\n  /**\n   * Set global query params\n   * @param {Object|URLSearchParams} params\n   */\n  set queryParams(params: any) {\n    if (params instanceof URLSearchParams) {\n      Config.queryParams = params\n      return\n    }\n\n    if (typeof params === 'string') {\n      Config.queryParams = new URLSearchParams(params)\n      return\n    }\n\n    Config.queryParams = objectToMap(new URLSearchParams(), params)\n  }\n\n  /**\n   * Get global query params\n   * @return {URLSearchParams}\n   */\n  get queryParams(): any {\n    return Config.queryParams\n  }\n\n  /**\n   * Get request query params\n   * Combine local and global query params\n   * Local query params are overriding global params\n   * @return {String}\n   */\n  get requestQueryParams(): string {\n    let params = new URLSearchParams()\n\n    for (let param of this.queryParams) {\n      params.append(param[0], param[1])\n    }\n\n    for (let param of this.localQueryParams) {\n      params.append(param[0], param[1])\n    }\n\n    let str = params.toString()\n\n    if (str.length) {\n      return '?' + str\n    }\n\n    return ''\n  }\n\n  /**\n   * Set local headers\n   * @param {Object|Headers} params\n   */\n  set localHeaders(params: any) {\n    if (!params) {\n      return\n    }\n\n     if (params instanceof Headers) {\n      this.$headers = params\n      return\n    }\n\n    this.$headers = objectToMap(new Headers(), params)\n }\n\n  /**\n   * Get local headers\n   * @return Headers\n   */\n  get localHeaders(): any {\n    return this.$headers\n  }\n\n  /**\n   * set global headers\n   * @param {Object|Headers} params\n   */\n  set headers(params: any) {\n     if (params instanceof Headers) {\n      Config.headers = params\n      return\n    }\n\n    Config.headers = objectToMap(new Headers(), params)\n }\n\n  /**\n   * Get global headers\n   * @return Headers\n   */\n  get headers(): any {\n    return Config.headers\n  }\n\n  /**\n   * get request Headers\n   * Combine local and global headers\n   * Local headers are overriding global headers\n   *\n   * @returns {Headers}\n   */\n  get requestHeaders(): Headers {\n    let headers = new Headers()\n\n    for (let header of this.headers) {\n      headers.append(header[0], header[1])\n    }\n\n    for (let header of this.localHeaders) {\n      headers.append(header[0], header[1])\n    }\n\n    return headers\n  }\n\n  /**\n   * get requestInterceptors\n   *\n   * @returns {RequestInterceptor[]}\n   */\n  get requestInterceptors(): RequestInterceptor[] {\n    return Config.requestInterceptors\n  }\n\n  /**\n   * set requestInterceptors\n   *\n   * @param {RequestInterceptor[]} requestInterceptors\n   */\n  set requestInterceptors(requestInterceptors: RequestInterceptor[]) {\n    Config.requestInterceptors = requestInterceptors\n  }\n\n  /**\n   * get responseInterceptors\n   *\n   * @returns {ResponseInterceptor[]}\n   */\n  get responseInterceptors(): ResponseInterceptor[] {\n    return Config.responseInterceptors\n  }\n\n  /**\n   * set responseInterceptors\n   *\n   * @param {ResponseInterceptor[]} responseInterceptor\n   */\n  set responseInterceptors(responseInterceptor: ResponseInterceptor[]) {\n    Config.responseInterceptors = responseInterceptor\n  }\n\n  /**\n   * get errorInterceptors\n   *\n   * @returns {ErrorInterceptor[]}\n   */\n  get errorInterceptors(): ErrorInterceptor[] {\n    return Config.errorInterceptors\n  }\n\n  /**\n   * set errorInterceptors\n   *\n   * @param {ErrorInterceptor[]} errorInterceptors\n   */\n  set errorInterceptors(errorInterceptors: ErrorInterceptor[]) {\n    Config.errorInterceptors = errorInterceptors\n  }\n\n  /**\n   * set requestBodyHandler\n   *\n   * @param {Function} fn\n   */\n  set requestBodyHandler(fn: RequestBodyHandler<T>) {\n    Config.requestBodyHandler = fn\n  }\n\n  /**\n   * requestBodyHandler\n   *\n   * @returns {Function}\n   */\n  get requestBodyHandler(): RequestBodyHandler<T> {\n    return Config.requestBodyHandler\n  }\n\n  /**\n   * set responseBodyHandler\n   * @param {ResponseBodyHandler} fn\n   */\n  set responseBodyHandler(fn: ResponseBodyHandler) {\n    Config.responseBodyHandler = fn\n  }\n\n  /**\n   * get responseBodyHandler\n   *\n   * @returns {ResponseBodyHandler}\n   */\n  get responseBodyHandler(): ResponseBodyHandler {\n    return Config.responseBodyHandler\n  }\n\n  /**\n   * @param fn the callback that will be called on request abortion\n   */\n  set abortCallback(fn: (req: Request) => void) {\n    Config.abortCallback = fn\n  }\n\n  /**\n   * @return fn the current cancel callback\n   */\n  get abortCallback(): (req: Request) => void {\n    return Config.abortCallback\n  }\n\n  get fetch(): any {\n    return Config.fetch ? Config.fetch : superAgentFetch\n  }\n\n  set fetch(fn: any) {\n    Config.fetch = fn\n  }\n\n  /**\n   * expandInterceptors\n   *\n   * @param {RequestInterceptor[]|ResponseInterceptor[]|ErrorInterceptor[]} interceptors\n   * @returns {Stream<any>} fn\n   */\n  private expandInterceptors(\n    interceptors: RequestInterceptor[]|ResponseInterceptor[]|ErrorInterceptor[]\n  ) {\n    return function(origin: any): Stream<any> {\n      return (<any>interceptors).reduce(\n        (obs: Stream<any>, interceptor: any) =>\n          obs.concatMap(value => {\n            let result = interceptor(value)\n            if (result === undefined) {\n              return of(value)\n            }\n\n            if (result instanceof Promise) {\n              return fromPromise(result)\n            }\n\n            if (result instanceof Stream) {\n              return result\n            }\n\n            return of(result)\n          }),\n        of(origin)\n      )\n    }\n  }\n\n  /**\n   * request\n   *\n   * @param {string} method\n   * @param {RxRestItem|FormData|URLSearchParams|Body|Blob|undefined|Object} [body]\n   * @returns {Stream<RxRestItem|RxRestCollection>}\n   */\n  request(method: string, body?: BodyParam<T>): Stream<RxRestItem<T> & T> {\n    let requestOptions = {\n      method: method,\n      headers: <Headers> this.requestHeaders,\n      body: this.requestBodyHandler(body)\n    }\n\n    let request = new Request(this.URL + this.requestQueryParams, requestOptions);\n\n    let stream = <Stream<RxRestItem<T> & T>> of(request)\n    .flatMap(this.expandInterceptors(Config.requestInterceptors))\n    .flatMap(request => this.fetch(request, null, this.abortCallback))\n    .flatMap(this.expandInterceptors(Config.responseInterceptors))\n    .flatMap(body => fromPromise(this.responseBodyHandler(body)))\n    .flatMap(body => {\n      if (!Array.isArray(body)) {\n        let item: RxRestItem<T>\n        if (this instanceof RxRestItem) {\n          item = this\n          item.element = body as T\n        } else {\n          item = new RxRestItem(this.$route, body as T)\n        }\n\n        item.$fromServer = true\n        return create((add, end, error) => {\n          add(item)\n          end(item)\n        })\n      }\n\n      let collection = new RxRestCollection<T>(this.$route, body.map((e: T) => {\n        let item = new RxRestItem(this.$route, e)\n        item.$fromServer = true\n        return item\n      }))\n\n      return create((add, end, error) => {\n        for (let item of collection) {\n          add(item)\n        }\n\n        end(collection)\n      })\n    })\n    .recoverWith(body => {\n      return of(body)\n      .flatMap(this.expandInterceptors(Config.errorInterceptors))\n      .flatMap((body: ErrorResponse) => throwError(body))\n    })\n\n    return stream\n  }\n}\n","import { Stream } from 'most'\nimport { RxRestProxyHandler } from './RxRestProxyHandler'\nimport { RxRest } from './RxRest'\n\nexport type BodyParam<T> = RxRestItem<T>|FormData|URLSearchParams|Body|Blob|undefined|Object;\n\nexport class RxRestItem<T> extends RxRest<T> {\n  $element: T = {} as T;\n\n  /**\n   * constructor\n   *\n   * @param {string[]} route\n   * @param {T} [element]\n   * @return {Proxy}\n   */\n  constructor(route: string[], element?: T) {\n    super(route)\n\n    if (element !== undefined) {\n      this.element = element\n    }\n\n    const proxy = new Proxy(this.$element, new RxRestProxyHandler<T>(this))\n\n    return <RxRestItem<T> & T> proxy\n  }\n\n  /**\n   * save - POST or PUT according to $fromServer value\n   *\n   * @param {Object|URLSearchParams} [queryParams]\n   * @param {Object|Headers} [headers]\n   * @returns {Stream<RxRestItem|RxRestCollection>}\n   */\n  save(queryParams?: Object|URLSearchParams, headers?: Object|Headers):\n    Stream<RxRestItem<T>|RxRestCollection<T>> {\n    this.localQueryParams = queryParams\n    this.localHeaders = headers\n\n    return this.request(this.$fromServer === true ? 'PUT' : 'POST', this)\n  }\n\n  /**\n   * set element\n   *\n   * @param {T} element\n   */\n  set element(element: T) {\n    for (let i in element) {\n      if (i === this.identifier && !this.$element[this.identifier]) {\n        this.$route.push('' + element[i])\n      }\n\n      this.$element[i] = element[i]\n    }\n  }\n\n  /**\n   * get element\n   *\n   * @return {T}\n   */\n  get element(): T {\n    return this.$element\n  }\n\n  /**\n   * get plain object\n   *\n   * @return {T}\n   */\n  plain(): T {\n    return this.element\n  }\n\n  /**\n   * Get json string\n   * @return {string}\n   */\n  json(): string {\n    return JSON.stringify(this.plain())\n  }\n\n  /**\n   * Clone\n   * @return {RxRestItem<T>}\n   */\n  clone(): RxRestItem<T> {\n    let route = this.$route\n\n    if (this.$element[this.identifier]) {\n      route = route.slice(0, this.$route.length - 1)\n    }\n\n    let clone = new RxRestItem(route, this.$element)\n    clone.$fromServer = this.$fromServer\n    return clone\n  }\n}\n\nexport class RxRestCollection<T> extends RxRest<T>\n  implements Iterable<RxRestItem<T>>, RxRestCollection<T> {\n  length: number;\n  $elements: RxRestItem<T>[] = [];\n  [index: number]: RxRestItem<T>;\n\n  /**\n   * constructor\n   *\n   * @param {string[]} route\n   * @param {T[]|RxRestItem<T>[]]} [elements]\n   * @return {Proxy}\n   */\n  constructor(route: string[], elements?: T[]|RxRestItem<T>[]) {\n    super(route)\n    if (elements !== undefined) {\n      this.elements = (elements as any).map((e: any) =>\n        e instanceof RxRestItem ? e.clone() : new RxRestItem(this.$route, e)\n      )\n    }\n\n    const proxy = new Proxy(this.$elements, new RxRestProxyHandler<T>(this))\n\n    return <RxRestCollection<T> & T> proxy\n  }\n\n  [Symbol.iterator]() {\n    let index = 0\n    let elements = this.$elements\n\n    return {\n      next(): IteratorResult<RxRestItem<T>> {\n        return index < elements.length ?\n          {value: elements[index++], done: false} : {value: undefined, done: true}\n      }\n    }\n  }\n\n  /**\n   * getList - fetch a collection\n   *\n   * @param {Object|URLSearchParams} [queryParams]\n   * @param {Object|Headers} [headers]\n   * @returns {Stream<RxRestItem|RxRestCollection>}\n   */\n  getList(queryParams?: Object|URLSearchParams, headers?: Object|Headers):\n    Stream<RxRestItem<T>|RxRestCollection<T>> {\n    this.localQueryParams = queryParams\n    this.localHeaders = headers\n\n    return this.request('GET')\n  }\n\n  /**\n   * set elements\n   *\n   * @param {T[]} elements\n   */\n  set elements(elements: RxRestItem<T>[]) {\n    this.$elements = elements\n    this.length = elements.length\n  }\n\n  /**\n   * get elements\n   * @return {RxRestItem<T>[]}\n   */\n  get elements(): RxRestItem<T>[] {\n    return this.$elements\n  }\n\n  /**\n   * plain\n   *\n   * @returns {T[]}\n   */\n  plain(): T[] {\n    return this.elements.map(e => e.plain())\n  }\n\n  /**\n   * json\n   *\n   * @returns {String}\n   */\n  json(): string {\n    return JSON.stringify(this.plain())\n  }\n\n  /**\n   * clone\n   *\n   * @returns {RxRestCollection}\n   */\n  clone(): RxRestCollection<T> {\n    return new RxRestCollection<T>(this.$route, this.$elements)\n  }\n}\n\nexport class NewRxRest {\n  one<T>(route: string, id?: any): RxRestItem<T> {\n    let r = new RxRest()\n    return r.one.call(r, route, id)\n  }\n\n  all<T>(route: string): RxRestCollection<T> {\n    let r = new RxRest()\n    return r.all.call(r, route)\n  }\n\n  fromObject<T>(route: string, element: T|T[]): RxRestItem<T>|RxRestCollection<T> {\n    let r = new RxRest()\n    return r.fromObject.call(r, route, element)\n  }\n}\n\nexport {RxRest}\n"],"names":["require$$0","this","requestBase","require$$1","require$$2","require$$3","index","map","base.map","base.id","empty","fatal","dispose.create","runProducer","ponyfill","symbolObservable","base.findIndex","base.removeAll","dispose.settable","fatalError","base.compose","run","dispose.all","reduce","runSource","dispose.once","dispose.tryDispose","cons","streamOf","Sink","tail","base.tail","core.empty","transform.map","identity","base.reduce","getSource","copy","dispose.empty","fromPromise","just","tryEvent.tryEvent","tryEvent.tryEnd","tryEvent","tryEnd","startWith","base.cons","base.replace","defer","runTask","PropagateAllTask","EndTask","ErrorTask","DeferredSink","create","superagent","superAgentFetch","RxRest"],"mappings":"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"}